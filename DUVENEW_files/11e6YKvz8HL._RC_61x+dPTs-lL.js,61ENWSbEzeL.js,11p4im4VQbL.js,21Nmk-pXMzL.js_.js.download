(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(A){var r=window.AmazonUIPageJS||window.P,X=r._namespace||r.attributeErrors,R=X?X("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):r;R.guardFatal?R.guardFatal(A)(R,window):R.execute(function(){A(R,window)})})(function(A,r,X){A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(p,c,f,I,m,L,F){function J(b,a,d,g,k){if(!f.isjQueryObjDefined(b.find(".a-button-selected"))){var v=
q.getCurrentItem();if(!g||"chromeless-video"!==v.type||!h.autoplayVideo){g=0;"image"===v.type&&(g=Math.max(f.getIndexForVariant(v.color,v.variant,h),0));var l=0;f.isDefined(h.heroImage[v.color])&&(l=h.heroImage[v.color].length);k=g-(a>=h.maxAlts?h.maxAlts-k-l:0);a=0<=k?a+k:g+l;a>=d&&(g=0,a=l);d=f.getImageHash(v.color,g,h);-1!==d&&(D.dispatch("updateModel",{data:{index:g,thumbnailIndex:a,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=b.find(".item").get(a),f.selectGivenThumbnail(c(d),
b))}}}function t(b){if(!h.useChildVideos)return f.lazyLoadingRequired(q.getCurrentItem(),q,h)?void 0:h.videos;if(h.colorToVideo[b])return h.colorToVideo[b];var a=h.colorToAsin[b];if(a&&a.asin){var d={};d.params={asin:a.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(d.success=function(a){videosOnTwisterRefresh(a)},I.load(VIDEO_AJAX_ENDPOINT,d));return h.colorToVideo&&h.colorToVideo[b]}}function G(b,
a,d){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&d)return b;var g=t(a),v=f.isDefined(g)&&0<g.length&&h.alwaysIncludeVideo?1:0;a=h.colorImages&&h.colorImages[a];g=b;var l=0;f.isDefined(a)&&(c.each(a,function(a,d){if(l>=h.maxAlts-v&&b<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var g=c(".thumbItemUnrolled");g[b]?g[b].querySelector("img").src=d.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(b+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(b+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(b+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:b,variant:d.variant,shoppableScene:d.shoppableScene},d.thumb,k,"imageThumbnail");b++}l++}),L.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(c,L,q),J(k,g,b,d,v));return b}function N(b,a){h.useIV&&f.isDefined(a.hiRes)&&b.css("cursor","pointer")}function B(b,a){if("image"===b.type&&P){var d=c("#image-canvas-caption #canvasCaption"),g=h.staticStrings,k=h.colorImages,l=b.color,z=b.index;if(f.isShoppableScenesEnabled()&&b.shoppableScene)var e=g.clickSceneTagsToShopProducts;else a&&
h.useIV?e=g.clickToExpand:k[l]&&k[l][z].hiRes&&h.useHoverZoom?(e=h.useHoverZoomIpad?g.touchToZoom:h.useClickZoom?g.clickToZoom:g.rollOverToZoom,h.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):h.useIV&&(e=g.clickToExpand);d.html(e)}}function y(b,a){var d="a-dynamic-image";if(!h.acEnabled){var g;c.each(b.main,function(a,b){f.isDefined(g)||(g=parseFloat(b[1]/b[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var k=f.getMaxDimensionsOfMainImage(b.main,
l,h),e=k[0],z=k[1];k=c("\x3cdiv\x3e\x3c/div\x3e");e={"max-height":e,"max-width":z};k.addClass(d).css(e).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:a}).data("a-dynamic-image",b.main);return k}function u(b,a,d){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",g,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+b);d=w.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
d.addClass("celwidget").attr("cel_widget_id",g);d.children("span").css("display","inline-block");D.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(d,g){d.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),g.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return d}function x(b,a,d){d=y(b,d);var g=f.isShoppableScenesEnabled()&&b.shoppableScene?u(a,b,d):
w.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");var k="image item itemNo"+a+" maintain-height";b.feedbackMetadata&&(k+=" celwidget "+b.feedbackMetadata);g.addClass(k).attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});g.find(".placeHolder").replaceWith(d);w.find(".list").append(g);p.loadImageManually(d);return g}function K(b){var a=l.css("height");null!==a&&b.find(".imgTagWrapper").css("height",
a);b.addClass("selected");h.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function E(b,a,d,g){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||g||"unavailable"===b.type){if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){d=f.getImageHash(b.color,b.index,h);if(-1===d)return a={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(b,q,h)||(D.dispatch("updateModel",a),f.showUnavailable(b.color)),
-1;g=w.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(g)||(g=x(d,b.thumbnailIndex,a));K(g);D.dispatch("loadMagnifier");B(b);N(g,d);p.trigger("dp:image-block:update",d)}}else{b=h.colorImages&&h.colorImages[d];a=c(".unrolledImg");d=t(d);var k=f.isDefined(d)&&0<d.length&&h.alwaysIncludeVideo?1:0;a.length>h.maxAlts&&a.each(function(a){a>=h.maxAlts&&c(this).remove()});f.isDefined(b)&&c.each(b,function(a,b){a<h.maxAlts-k+h.additionalNumberOfImageAlts&&a>=h.maxAlts-k&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+k+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+k)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+k)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
b.large+'" data-a-hires\x3d"'+b.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))})}}function n(b){var a=q.getCurrentItem().color;h.colorImages[a]||(h.colorImages[a]=b);b={type:"updatedData",data:q.getCurrentItem()};D.dispatch("updateView",b);(a=h.colorToAsin[a])&&a.asin&&A.register(f.rankedImagesReadyEvent(a.asin))}function e(){var b=w.find(".item .imgTagWrapper"),a=f.getContainerHeight(l,h.holderRatio,h.holderMaxHeight);
0<a&&(l.height(a),b.height(a));w.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&p.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=f.getMaxDimensionsOfMainImage(b,l,h);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function z(b){B(q.getCurrentItem(),"mouseenter"===b.type)}var Y,h,q,D,k,w,l,O,P=(m=p.state("imageBlockStateData"))?!m.shouldRemoveCaption:!0;return function(b,a,d,g){Y=this;h=b;q=a;D=g;p.on("triggerImageAjax",n);h.colorImages[h.landingAsinColor]=
h.colorImages[h.defaultColor];Y.render=function(a,b,d,g,e,M,z){w=d;k=g;l=e;O=G(b,a,M);M||(b=q.getCurrentItem(),f.lazyLoadingRequired(b,q,h)&&D.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=q.getCurrentItem();d=!M;f.lazyLoadingRequired(b,q,h)||(c("#imageBlock").css("opacity","1"),w.css("opacity","1"),f.spinner(w,!1),w.find("li").removeClass("selected"),P&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&w.find(".list .item").remove());E(q.getCurrentItem(),z,a,M);return O};
Y.update=function(a){};h.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");D.register("imageHover",z);D.register("resize",e)}});"use strict";A.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(p,c,f){var r,m,L,F;return function(c,t,I,N){r=this;m=c;L=N;r.render=function(c,t,u,x,I,E,n){F=x;r=this;u=m.maxAlts;x=t;I=m.colorImages[c]?m.colorImages[c].length:0;I+=f.getVideosCount(c,m);c=m.heroImage[c];E=0;c&&(E=c.length);c=I+E;c>u&&(u=c-u,c=F.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
u+="+",x={type:"ingress",index:0,thumbnailIndex:t,variant:""},c.find("#altIngressText").append(u),p.declarative.create(c,"thumb-action",x),F.append(c),x=t++);return x};r.update=function(c){"ingress"===c.data.type&&"click"===c.type&&L.dispatch("imageClick",c)}}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(p,c,f,r){function m(e,n,h,q){if(!f.isjQueryObjDefined(e.find(".a-button-selected"))){var z=x.getCurrentItem();if(!q||"chromeless-video"!==
z.type||!u.autoplayVideo){q=0;if("hero-image"===z.type){q=F(z.color,z.variant);if(-1===q)return;q=-1!==q?q:0}var k=n+q;k>=h&&(q=0,k=n);n=r.getHeroImageHash(u,z.color,q);-1!==n&&(K.dispatch("updateModel",{data:{index:q,thumbnailIndex:k,variant:n.variant,type:"hero-image"}}),n=e.find(".item").get(k),f.selectGivenThumbnail(c(n),e))}}}function I(e,n,h){if("hero-video"===x.getCurrentItem().type)return e;n=u.heroImage&&u.heroImage[n];var z=e;f.isDefined(n)&&(c.each(n,function(c,k){e<u.maxAlts&&(f.createThumbnail({type:"hero-image",
index:c,thumbnailIndex:e,variant:k.variant},k.thumb,E,"imageThumbnail"),e++)}),m(E,z,e,h));return e}function F(e,n){var h=u.heroImage;if(1>h.length||!f.isDefined(h[e])||!f.isDefined(n))return-1;var z=-1;c.each(h[e],function(c,f){f.variant===n&&(z=c)});return z}function J(){if(n.length&&u.repositionHeroImage){var c=r.getHeroDimParams(u,x.getCurrentItem());if(f.isDefined(c)){var e=f.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+"px ";n.css({"background-position":e,"background-size":c.width+
"px "+c.height+"px ","max-width":c.width+"px ","min-height":c.height+"px ",filter:"","-ms-filter":""})}}}function t(c,e,h,q){if(n.length&&c&&e){if("function"===typeof h||q){var z=new Image;z.onload=q?function(){n.css("background-image",'url("'+c+'")')}:h;z.src=c}h=e[1];z=e[0];q||n.css({"background-image":'url("'+c+'")'});if(u.repositionHeroImage&&(e=r.getHeroDimParams(u,x.getCurrentItem(),e),f.isDefined(e))){h=e.width;z=e.height;var k=f.isDefined(e.xPos)?e.xPos+"px "+e.yPos+"px ":"center "+e.yPos+
"px "}n.css({"background-position":k,"background-size":h+"px "+z+"px ","max-width":h+"px ","min-height":z+"px ",filter:"","-ms-filter":""})}}function G(f,e,h,n){f=r.getHeroImageHash(u,f,e);if(-1===f)return-1;e=c.map(f.main,function(c,f){return f})[0];t(e,f.main[e],h,n)}function N(c,f,e){if("hero-image"!==c.type)return-1;var h=F(c.color,x.getCurrentItem().variant);h=-1!==h?h:0;if(-1===r.getHeroImageHash(u,c.color,h))return-1;var n=x.getCurrentItem();c.thumbnailIndex=n.thumbnailIndex;c.type=n.type;
c.variant=n.variant;c.index=h;B(c,f,e)}function B(c,f,h){var m=r.getHeroImageHash(u,c.color,c.index);var z=c&&e&&p.equals(c,e)?!0:!1;e||(e=c);if(!z&&c||f)G(c.color,c.index,f,h),e=c;n.removeClass("hide-background");p.trigger("dp:image-block:update",m)}var y,u,x,K,E,n,e={};return function(e,m,h,p){y=this;u=e;x=m;K=p;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];y.render=function(f,k,e,h,m,p,b){E=h;n=c("#heroImage");f=I(k,f,p);N(x.getCurrentItem(),b,p);return f};y.update=function(c){var k=
c.data;"ingress"!==k.type&&n.addClass("hide-background");"swatchHover"===c.type?c.captured||(k.type=x.getCurrentItem().type,-1!==N(k)&&(c.captured=!0)):"hero-image"===k.type&&(B(k),"click"!==c.type&&u.usePeekHover||f.selectGivenThumbnail(c.$declarativeParent,E))};K.register("resize",J)}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(p,c,f,I,m,L){function F(c){E?c.css("cursor","url('"+B.staticImages.zoomIn+
"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))}function J(c){var e=c.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);c={};if(f.isDefined(e)){e=e[1].split("_");for(var n=0;n<e.length;n++){var m=e[n].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(m)&&(c[m[1]]=parseInt(m[2],10))}}return c}function t(n,e){function z(){if(e.useClickZoom){var c=e.offsetInClickZoom;c=[Math.min(1,Math.max(0,d[0]-(v[0]+c))/(v[2]-2*c)),Math.min(1,Math.max(0,d[1]-(v[1]+c))/
(v[3]-2*c))]}else c=a&&a.updatePosition();if(c&&b&&b.detailSize){var g=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];p.capabilities.rtl?b.detailImage.get(0).style.right=-(c[0]*g[0])+"px":b.detailImage.get(0).style.left=-(c[0]*g[0])+"px";b.detailImage.get(0).style.top=-(c[1]*g[1])+"px"}}function t(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function h(a){var b=M?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";d=M?[b.pageX,b.pageY]:[a.pageX,a.pageY];
if(p.capabilities.rtl){var g=c(r).width();d=M?[g-b.pageX,b.pageY]:[g-a.pageX,a.pageY]}}function q(b){M&&b.preventDefault();h(b);e.useClickZoom?b=[v[0],v[1],v[0]+v[2],v[1]+v[3]]:(b=a?a.offset:n.offsetParent().offset(),b=B.acEnabled?[b.left,b.top,O.width()+b.left,O.height()+b.top]:[g[0]+b.left,g[1]+b.top,g[0]+g[2]+b.left,g[1]+g[3]+b.top]);d[0]<b[0]||d[1]<b[1]||d[0]>=b[2]||d[1]>=b[3]||B.acEnabled&&!t(n)?(e.fadeMagnifier?V||(V=!0,Z=setTimeout(function(){u(!0)},500)):e.useClickZoom||u(),U&&(U=!1,clearTimeout(G))):
(U||(U=!0,G=setTimeout(function(){I.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&L.logHoverZoomRequestServed(m)},1E3)),e.fadeMagnifier&&V&&(V=!1,clearTimeout(Z)),z())}function u(d){d&&l.suppressMagnifier(!0);if(y&&(b&&b.hide(),a&&(a.destroy(),a=null),y=!1,M?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),c(document).trigger("disengaged.magnifier")):c(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),w(),d))n.one("click.magnifier touchstart.magnifier",
function(a){k(a,!0)})}function k(d,f){f&&l.suppressMagnifier(!1);if(!y&&!N&&(0===S&&(I.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),S=1),aa[C]||(I.postCountMetric("dppc_hoverMain"),aa[C]=1),g=[n.position().left,n.position().top,n.width(),n.height()],C&&(h(d),b?b.refit().show():b=new T,e.useClickZoom||(a=a||new Q),v=b.getWindowSize(),z()),y=!0,M?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",q).bind("touchend.magnifier",u),c(document).trigger("engaged.magnifier")):
(B.acEnabled?O.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),c(document).trigger("engaged.magnifier").bind("mousemove.magnifier",q)),f&&(d=c("#zoomWindow"),0<d.length)))d.one("click.magnifier touchend.magnifier",function(a){u(!0)})}function w(){e.useHoverZoom&&(M?n.bind("touchstart.magnifier touchmove.magnifier",k):B.acEnabled?t(n)&&O.bind("mousemove.magnifier",k):n.bind("mousemove.magnifier",k))}var l=this,O=n.offsetParent(),x={detailImageUrl:n.attr("data-old-hires"),location:"over",
locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=c.extend(x,e);e.adjustment=[10,0,-10,0];var b=null,a=null,d=null,g=null,v=null,H={"null":1,"":1,undefined:1},y=!1,N=!1,C=e.detailImageUrl,M=e.useHoverZoomIpad||0,S=0,aa={},Q=function(){function a(a){var d=Math.round(Math.min(n.width(),b.rect.width/a));a=Math.round(Math.min(n.height(),b.rect.height/a));l.css({width:d,height:a});k=[d,a]}var f=this,k=[0,0],h=(b.detailSize&&b.detailSize[0]||5E8)/g[2],M=(b.detailSize&&b.detailSize[1]||
5E8)/g[3];h=M>h?M:h;c("#magnifierLens").remove();var l=c("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});e.generalImageUrls.zoomLensBackground&&l.css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")"});B.showMagnifierOnHover?F(l):l.css("cursor","pointer");f.updatePosition=function(){var a=[g[2]-k[0],g[3]-k[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(d[0]-k[0]/2-g[0]-f.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(d[1]-k[1]/2-g[1]-f.offset.top)/a[1])),e=g[0]+
Math.round(b*a[0]);a=g[1]+Math.round(c*a[1]);l.get(0).style.left=e+"px";l.get(0).style.top=a+"px";return[b,c]};f.destroy=function(){l.remove()};f.offset=n.offsetParent().offset();a(h);f.updatePosition();l.appendTo(n.parent());b.detailImage[0].complete||b.detailImage.load(function(){var d=b.detailImage.width()/g[2];a(d);f.updatePosition()})};Q.preload=function(){l.preload(e.generalImageUrls.lensBackgroundUrl)};var T=function(){function a(){var a={};if("over"===e.location){a=e.useClickZoom;var b={},
g=c("#leftCol"),h=c("#centerCol"),M=c("#rightCol"),v=c("#hover-zoom-end"),ma=c("#actionPanelContainer"),T=f.isjQueryObjDefined(g)?g.outerHeight():h.outerHeight();b.top=f.isjQueryObjDefined(g)?g.offset().top:h.offset().top;b.bottom=T+b.top;b.right=f.isjQueryObjDefined(M)?M.offset().left:ma.offset().left;b.left=a?0:g.offset().left+g.outerWidth();f.isjQueryObjDefined(v)&&v.offset().top>b.bottom&&(b.bottom=v.offset().top);a=b}else"right"===e.location&&(a=n.offset(),a={left:a.left+n.outerWidth(),top:a.top,
right:a.left+n.outerWidth()+400,bottom:a.top+400});e.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+c(e.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,c(r).scrollTop()+c(r).height());a.left+=k[0];a.top+=k[1];a.right+=k[2];a.bottom+=k[3];a.width=a.right-a.left;a.height=a.bottom-a.top;e.enhancedHoverOverlay&&f.isDefined(r.pageXOffset)&&(b=c(r).width(),a.width=b-a.left+r.pageXOffset-18,a.height-=14);l.css({left:a.left,top:a.top,width:a.width,height:a.height});d.rect=a;return d}function b(a){var b=
new Image;d.detailSize=[0,0];b.onload=function(){d.detailSize=[b.width,b.height];z()};b.src=a.attr("src");if(0<b.width&&0<b.height)d.detailSize=[b.width,b.height];else if(e.detailImageSize)d.detailSize=e.detailImageSize;else{a=J(b.src);var c=g[2]/g[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?d.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(d.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var d=this,k=e.adjustment;c("#zoomWindow").remove();
var h={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(h.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",h.border="1px solid #949494",h.borderColor="rgb(148,148,148)");var l=c("\x3cdiv id\x3d'zoomWindow' /\x3e").css(h);e.fadeMagnifier&&l.fadeIn(200);e.useClickZoom&&(E?l.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(l.css("cursor","-webkit-zoom-out"),l.css("cursor","-moz-zoom-out"),l.css("cursor","zoom-out")));d.updateImage=function(a){a=c("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();l.append(a);c(document).trigger("updated.magnifier");d.detailImage=a;b(d.detailImage)};d.refit=function(){a();b(d.detailImage);return d};e.fadeMagnifier?(d.show=function(){l.fadeIn(200);return d},d.hide=function(){l.fadeOut(200);return d}):(d.show=function(){l.show();return d},d.hide=function(){l.hide();return d});d.destroy=function(){l.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,
d.rect.height]};d.updateImage(C);a();l.appendTo(document.body)},V=!1,Z,U=!1,G;l.preload=function(a){a=c.makeArray(a);for(var b=a.length,d=0;d<b;d++)a[d]instanceof Array?l.preload(a[d]):"string"===typeof a[d]&&a[d]&&!H[a[d]]&&(H[a[d]]=new Image,H[a[d]].src=a[d])};l.changeImage=function(a,d){y&&u();C=d;n.attr("src",a);l.preload(a);g=[n.position().left,n.position().top,n.width(),n.height()];d&&("immediately"===e.preload?l.preload(d,!0):c(r).ready(function(){l.preload(d)}),b?b.updateImage(d):n.attr("data-old-hires",
d))};l.destroy=function(){B.acEnabled?O.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");c(document).unbind("mousemove.magnifier");a&&a.destroy();a=null;b&&b.destroy();b=null};l.detailImage=function(){return b.detailImage};l.suppressMagnifier=function(a){N=a};l.isEngaged=function(){return y};l.engageMagnifier=k;l.disengageMagnifier=u;n[0].complete?w():n.one("load",w);l.preload(n.attr("src"));
r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(e.preload){var K=e.detailImageUrl;x=function(){l.preload(K,!0);e.useClickZoom||Q.preload()};var A=e.preload;A.constructor!==Array&&(A=[A]);for(var da=0;da<A.length;da++)if("immediately"===A[da])x();else if(c(r)[A[da]])c(r)[A[da]](x);else c(r).bind(A[da],x)}return l}function G(){if(B.useHoverZoom){var n={adjustment:[0,0,1,1],generalImageUrls:B.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:B.useHoverZoomIpad,useHoverZoom:B.useHoverZoom,useClickZoom:B.useClickZoom,fadeMagnifier:B.fadeMagnifier,zoomOutIcon:B.staticImages.zoomOutCur,enhancedHoverOverlay:B.enhancedHoverOverlay||B.atfEnhancedHoverOverlay};x&&(x.destroy(),x=X);var e=K.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(e)?B.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(c){x=
new t(e,n);x.engageMagnifier(c,!0)}),E?e.css("cursor",'url("'+B.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):x=new t(e,n):m.isEnabled&&L.logHoverZoomApplicability(c,m)}}var N,B,y,u,x,K,E=navigator.userAgent.match(/msie|trident/i);return function(c,f,p,E){N=this;B=c;y=f;m.refToModel=y;u=E;N.render=function(c,f,e,k,n,l){K=e;x&&(x.destroy(),x=X)};N.update=function(c){};u.register("loadMagnifier",G);u.register("resize",
G)}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(p,c,f,I){function m(c,m,p){c=(c=p?p:f.getColorFromState(m.getState().hovered_variations,J))&&""!==c?c:J.defaultColor;G.dispatch("updateView",{type:"swatchHover",data:{color:c}});I.postCountMetric("swatchHover")}function A(c,m,p,u){c=(c=u?u:f.getColorFromState(m.getState().selected_variations,J))&&""!==c?c:J.defaultColor;c===t.getCurrentItem().color?"function"===typeof p&&p():(G.dispatch("updateSelection",
{type:"swatchClick",data:{color:c},onload:function(){var c={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",c);p()}}),I.postCountMetric("swatchClick"))}var F,J,t,G;return function(c,f,r,u){F=this;J=c;t=f;G=u;p.on("image-block-twister-swatch-hover",m);p.on("image-block-twister-swatch-click",A);F.render=function(c,f,m,n,e){};F.update=function(c){}}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(p,c,f,I,m,L,F){function J(a,b,d,g){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var e=w.getCurrentItem();if(!g||"chromeless-video"!==e.type||!k.autoplayVideo)if(g=0,"image"===e.type&&(g=Math.max(B(e.color,e.variant),0)),!(e.thumbnailIndex>=k.maxAlts&&0!=g)){var h=b+g;h>=d&&(g=0,h=b);b=f.getImageHash(e.color,g,k);-1!==b&&(l.dispatch("updateModel",{data:{index:g,thumbnailIndex:h,variant:b.variant,type:"image",
shoppableScene:b.shoppableScene}}),b=a.find(".item").get(h),f.selectGivenThumbnail(c(b),a))}}}function t(a,d,g){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&g)return a;var e=k.colorImages&&k.colorImages[d];d=a;2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||c(".thumbItemUnrolled").each(function(a){(!c(this)[0].classList.contains("thumbTypeimage")||a>=e.length||a>=k.maxAlts)&&c(this).remove()});f.isDefined(e)&&(c.each(e,function(d,g){if(a<k.maxAlts)if(2===
k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){a++;var h=c(".thumbItemUnrolled");h[d]?h[d].querySelector("img").src=g.thumb:c('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+g.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".regularAltImageViewLayout"))}else d={type:"image",index:d,thumbnailIndex:a,variant:g.variant,shoppableScene:g.shoppableScene},g=f.createThumbnail(d,g.thumb,b,"imageThumbnail"),"T1"!==k.desktopCollapsibleThumbnailsExperience&&"T2"!==k.desktopCollapsibleThumbnailsExperience||f.updateImageThumbnailOverlay(g,d,e),a++}),L.isEnabled&&F.logAltImgRequestPlacedOnThumbnails(c,
L,w),J(b,d,a,g));return a}function G(a,b){k.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function N(a,b){if("image"===a.type&&C){var d=c("#image-canvas-caption #canvasCaption"),g=k.staticStrings,e=k.colorImages,h=a.color,l=a.index;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var v=g.clickSceneTagsToShopProducts;else b&&k.useIV?v=g.clickToExpand:e[h]&&e[h][l].hiRes&&k.useHoverZoom?(v=k.useHoverZoomIpad?g.touchToZoom:k.useClickZoom?g.clickToZoom:g.rollOverToZoom,k.hoverZoomIndicator&&
(v="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+v)):k.useIV&&(v=g.clickToExpand);d.html(v)}}function B(a,b){return f.getIndexForVariant(a,b,k)}function y(a,b,d){var c=b.thumbnailIndex,f=k.colorToAsin[b.color]&&k.colorToAsin[b.color].asin;b="altImageHover"===d&&g&&g.altImageIdx===c&&g.asin===f&&"swatchClick"===g.event?!0:"swatchHover"===d?g&&g.asin===f&&g.event===d:g&&g.altImageIdx===c&&g.asin===f&&g.event===d;if(!b){var e="#",h=a.find(".imgTagWrapper img").get(0);h&&(e=h.src);
a=new Image;a.onload=function(){if(h){h.src=e;var a=h.width,b=h.height,g=h.naturalWidth,k=h.naturalHeight;try{var l=(Math.abs(a/g*k-b)/b).toFixed(2);.01<l&&(r.ue&&((("landing"!==d||ba||ca)&&"swatchClick"!==d||r.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===d||"swatchClick"===d)?r.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==d||ca?"altImageHover"!==d||ba||(r.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),ba=!0):(r.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",
1),ca=!0)),r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},r.ueLogError("swatchHover"===d?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" Event:"+d+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+f+" at altImageIdx "+c+" Event:"+d+" Diff:"+l.toString()+"]"},a)))}catch(ea){r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},r.ueLogError(ea,a))}}};"#"!==e&&(a.src=
e);g.altImageIdx=c;g.asin=f;g.event=d}}function u(a,b){var g="a-dynamic-image";if(!k.acEnabled){var e;c.each(a.main,function(a,b){f.isDefined(e)||(e=parseFloat(b[1]/b[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});g+=e}var h=f.getMaxDimensionsOfMainImage(a.main,d,k),l=h[0],v=h[1];h=c("\x3cdiv\x3e\x3c/div\x3e");l={"max-height":l,"max-width":v};h.addClass(g).css(l).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);
return h}function x(b,d,c){var g="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",g,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":g,"data-csa-c-slot-id":g,"data-csa-c-type":"widget","data-csa-c-asin":k.mediaAsin,"data-csa-c-physical-id":d.shoppableScene.physicalId,
"data-product-line":d.shoppableScene.productLine});c.children("span").css("display","inline-block");l.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:d.shoppableScene,imageSource:d.hiRes||d.large||d.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(a,c){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){p.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:d.shoppableScene})}),c.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",g,{wb:1});return c}function K(b,d,c){c=u(b,c);var g=f.isShoppableScenesEnabled()&&b.shoppableScene?x(d,b,c):
a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");var e="image item itemNo"+d+" maintain-height";b.feedbackMetadata&&(e+=" celwidget "+b.feedbackMetadata);g.addClass(e).attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":d+1});g.find(".placeHolder").replaceWith(c);a.find(".list").append(g);p.loadImageManually(c);p.trigger("dp:image-block:imageBlockImageLoad",d);return g}function E(a){var b=
d.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function n(a){if(a.isUserGenerated){var b=w.getPreviousItem(),d=a.variant;f.isDefined(d)&&b.thumbnailIndex!==a.thumbnailIndex&&(L.isEnabled&&F.logAltImgRequestServed(L),m.postCountMetric("ImageThumbnailSelectedVariant:"+d),0===d.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+d),m.postCountMetric("IGImageSelectedEvent:"+
a.interaction)))}}function e(b,d,g,e){if(2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment||e||"unavailable"===b.type){if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(h=f.isDefined(d))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");g=f.getImageHash(b.color,b.index,k);if(-1===g)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(b,w,k)||(l.dispatch("updateModel",d),f.showUnavailable(b.color)),-1;e=a.find(".item.itemNo"+
b.thumbnailIndex);f.isjQueryObjDefined(e)||(e=K(g,b.thumbnailIndex,d),h?(ca=ba=!1,y(e,b,"swatchClick")):y(e,b,"altImageHover"));E(e);l.dispatch("loadMagnifier");N(b);G(e,g);n(b);p.trigger("dp:image-block:update",g)}}else if(b=k.colorImages&&k.colorImages[g],c(".unrolledImg").each(function(a){c(this).remove()}),f.isDefined(b)){c.each(b,function(a,b){if(a<k.maxAlts){var d=c(".unrolledImg");d[a]?c(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+
b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=d.length&&c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hires\x3d"'+b.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"))}});p.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var h=f.isDefined(d);h&&(m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
d())}}function z(b){var d=Math.max(B(b.color,w.getCurrentItem().variant),0);d=f.getImageHash(b.color,d,k);if(-1===d)return f.lazyLoadingRequired(b,w,k)||f.showUnavailable(b.color),-1;var c=a.find(".swatchHoverExp"),g=u(d);c.find(".imgTagWrapper").html(g);p.loadImageManually(g);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");E(c);y(c,b,"swatchHover");p.trigger("dp:image-block:update",d)}function Y(b,d){f.lazyLoadingRequired(b,w,k)||(c("#imageBlock").css("opacity","1"),a.css("opacity","1"),
f.spinner(a,!1),a.find("li").removeClass("selected"),C&&c("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),d&&a.find(".list .item").remove())}function h(){var b=a.find(".item .imgTagWrapper"),g=f.getContainerHeight(d,k.holderRatio,k.holderMaxHeight);0<g&&(d.height(g),b.height(g));a.find("img.a-dynamic-image").each(function(){var a=c(this);a.data("a-manual-replacement")&&p.loadDynamicImage(this);var b=a.data("a-dynamic-image");b=f.getMaxDimensionsOfMainImage(b,d,k);a.css({"max-height":b[0]+
"px","max-width":b[1]+"px"})})}function q(a){N(w.getCurrentItem(),"mouseenter"===a.type)}var D,k,w,l,O,P,b,a,d,g={},v,H=null,ba=!1,ca=!1,C=(I=p.state("imageBlockStateData"))?!I.shouldRemoveCaption:!0;p.on("triggerImageAjax",function(a){var b=w.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=a);a={type:"updatedData",data:w.getCurrentItem()};l.dispatch("updateView",a);(b=k.colorToAsin[b])&&b.asin&&A.register(f.rankedImagesReadyEvent(b.asin))});return function(g,n,p,E){D=this;k=g;w=n;l=E;
k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];D.render=function(g,h,n,m,p,q,E,u){a=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?n:c(".unrolledScrollBox");b=m;d=p;v=t(h,g,q);q?0===h&&y(a.find(".item.itemNo0"),w.getCurrentItem(),"landing"):(h=w.getCurrentItem(),f.lazyLoadingRequired(h,w,k)&&l.dispatch("updateModel",{data:{type:"lazy-loaded"}}));Y(w.getCurrentItem(),!q);2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment?"swatchClick"===u&&k&&
k.colorImages?(H=k.colorImages[g],e(w.getCurrentItem(),E,g,q)):"updatedData"===u&&k&&k.colorImages&&k.colorImages[g]!==H&&(H=k.colorImages[g],e(w.getCurrentItem(),E,g,q)):e(w.getCurrentItem(),E,g,q);return v};f.isImageBlockGridViewHoverDelayEnabled()?D.update=function(a){var d=a.data;w.setCurrentEvent(a);"ingress"!==d.type&&"swatchHover"!==a.type&&(w.setToPreviousItem(),"mouseenter"===a.type?(P&&clearTimeout(P),P=setTimeout(function(){w.setToCurrentItem(d);Y(a.data,!1)},f.getHoveringDelayTimer())):
"mouseleave"===a.type?P&&clearTimeout(P):"click"===a.type&&(w.setToCurrentItem(d),Y(a.data,!1)));"swatchHover"===a.type?("ingress"!==d.type&&Y(a.data,!1),d.color===w.getCurrentItem().color?e(w.getCurrentItem(),null,d.color,!0):a.captured||-1===z(d)||(a.captured=!0)):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+v),O&&clearTimeout(O),O=setTimeout(function(){e(d,null,d.color,!0);k.usePeekHover||
f.selectGivenThumbnail(a.$declarativeParent,b)},f.getHoveringDelayTimer())):"mouseleave"===a.type?O&&clearTimeout(O):"click"===a.type&&(e(d,null,d.color,!0),f.selectGivenThumbnail(a.$declarativeParent,b),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+v)))}:D.update=function(a){var d=a.data;w.setCurrentEvent(a);"ingress"!==d.type&&Y(a.data,!1);"swatchHover"===a.type?d.color===w.getCurrentItem().color?e(w.getCurrentItem(),null,
d.color,!0):a.captured||-1===z(d)||(a.captured=!0):"image"===d.type&&(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(d.thumbnailIndex+1)+"_"+v),e(d,null,d.color,!0),k.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(d.thumbnailIndex+1)+"_"+v))))};k.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");
l.register("imageHover",q);l.register("resize",h)}});"use strict";A.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(p,c,f,r){function m(f,n){f=c("\x3cimg src\x3d'"+(n?u.staticImages.shoppableSceneDotHighlighted:u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:n?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(n?"active-tag":"inactive-tag");return f}function I(f){var n=c("\x3cspan\x3e");p.each(f.tags,function(f){var e=
c("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});e.append(m(f,!1));e.append(m(f,!0));e.bind("mouseenter",function(){F(c(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});p.declarative.create(e,"scenes-show-details-tags-ib",{tagId:f.link});n.append(e)});return n.children()}function F(c){c.addClass("mirai-scene-dot-pulsate");p.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},4E3)}function J(c,f){c.css({display:"none"});
f.css({display:"inline-block"})}function t(c,f,e){c.eq(e).css({display:"inline-block"});f.eq(e).css({display:"none"})}function G(c){A.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){p.trigger("mirai:scene-details-change",{physicalId:c})})}function N(){var f=c("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),n=c("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=c("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
e.html(u.staticStrings.shoppableSceneViewProductsButton);return f.append(n).append(e)[0].outerHTML}function B(c){function f(){c.$tagPlaceholder.replaceWith(m);var f=m.find(".mirai-scene-tag.active-tag"),e=m.find(".mirai-scene-tag.inactive-tag");t(f,e,0);F(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));K=!0;c.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+c.index,{wb:1});y=!0;r.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(c.shoppableScene){var e=c.$viewProductsButton.find(".a-button-text");if(0===e.children().length){e.append(N());p.declarative.create(c.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:c.shoppableScene.tags[0].link});var m=I(c.shoppableScene),x=m.find(".mirai-scene-tag.active-tag"),h=m.find(".mirai-scene-tag.inactive-tag"),q=c.shoppableScene.physicalId,y=!1;p.on("mirai:index:change",function(c){c.scenePhysicalId===q&&(c=c.selectedIndices[0],J(x,h),t(x,h,c),F(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(c)),
K=!0)});p.on("mirai:scene-details-change",function(c){c.physicalId!==q||K||(J(x,h),t(x,h,0),F(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),K=!0)});p.on("mirai:no-products-active",function(c){c.scenePhysicalId===q&&J(x,h)});p.on("mirai:set-first-product-active",function(c){c.scenePhysicalId===q&&(J(x,h),t(x,h,0))});p.on("a:image:load:shoppable-scene:"+c.index,function(){y||(f(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});p.on("shoppable-scene-image-loaded",
function(e){e.index!=c.index||y||(f(),r.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});A.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){p.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});p.trigger("mirai:scene-details-init",{scene:c.shoppableScene,imageSource:c.imageSource})})}}}var y,u,x,K=!1;return function(c,m,e,p){y=this;u=c;x=p;f.isShoppableScenesEnabled()?(x.register("initialize-shoppable-scene",
B),y.render=function(c,f,e,m,k,n,l){},y.update=function(c){"mouseenter"===c.type&&(c.data.shoppableScene?G(c.data.shoppableScene.physicalId):K=!1)}):(c=function(){},y.render=c,y.update=c)}});A.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"===typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};A.when("A",
"jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(p,c,f,I,m,A,F,J){function t(a){return null!==a&&"undefined"!==typeof a}function G(a){var b=0;c.each(a,function(a,d){a=parseInt(d[1],10);a>b&&(b=a)});return b}function N(a){var b=0;c.each(a,function(a,d){a=parseInt(d[0],10);a>b&&(b=a)});return b}function B(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=G(a);0<a&&(b=Math.min(b,
a));return b}function y(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=N(a);0<a&&(b=Math.min(b,a));return b}function u(a){var b;c.each(a,function(a,d){t(b)||(b=d[1]/d[0])});return b||1}function x(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function K(a,b){b=b.find("img");t(b[a])&&c(b[a]).click()}function E(a,b){k[a]=b?b:k[a];return k[a]}function n(a,b,g){g=g||D;g=g.colorImages;if(1>g.length||!t(g[a])||!t(b))return-1;var d=
-1;c.each(g[a],function(a,c){c.variant===b&&(d=a)});return d}function e(a,b,g){g=g||D;g=g.colorImages;return!(t(g)&&t(g[a])&&t(g[a][b])&&t(g[a][b].main))||1>c.map(g[a][b].main,function(a,b){return b}).length?-1:g[a][b]}function z(a,b,c,f){f.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,f.css("width",""),f.css("height",""),a>b?f.css("width",b/a*100+"%"):f.css("height",a/b*100+"%"))}function L(a,b){var d;if(d=a.useIV)d=a.colorImages&&a.colorImages[b]&&0<a.colorImages[b].length?!0:!1;a=d;A.isEnabled&&
(A.IVApplicaple=a,F.logImmersiveViewApplicability(c,A));return a}function h(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length||0<c(".gridImageBlockViewLayoutIn1x7").length}var q,D=c.extend(!0,{},I,m),k={},w=0,l=0,O=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,P={},b={};return{isDefined:t,isDefinedAndEmpty:function(a){return t(a)&&"object"===("undefined"===typeof a?"undefined":R(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return t(a)?"object"===
("undefined"===typeof a?"undefined":R(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return t(a)?"object"===("undefined"===typeof a?"undefined":R(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:u,getMaxHeightOfMainImage:y,getMaxWidthOfMainImage:B,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=y(a,b,c);b=B(a,b,c);a=u(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,
b,c){var d=a.get(0);a=0;if(t(d)){a=Math.min(d.offsetWidth/b,c);var g;b=D.mainImageHeightPartitions;c=D.mainImageMaxSizes;if(t(c)&&t(b)){var f=0,e=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(d=0;d<b.length;d++)e>b[d]&&(f=d+1);c.length>=f&&(g=c[f])}t(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,b){if(a){b=b||D;var d="";c.each(b.visualDimensions,function(b,c){a[c]&&(d+=" "+a[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,c,f){var d=
c.find(".template").clone().removeClass("template").addClass("item"),g=document.createElement("img");g.src=b;d.find(".placeHolder").replaceWith(g);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&d.addClass("heroImageThumbnail");t(f)&&d.addClass(f);h()&&d&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",g.parentNode.insertBefore(f,g));p.declarative.create(d,"thumb-action",a);d.attr&&(d.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(d.attr("data-csa-c-type",
"uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(d.attr("data-csa-c-type","uxElement"),d.attr("data-csa-c-element-type","navigational"),d.attr("data-csa-c-action","image-block-alt-image-hover")),d.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(d);return d},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");
b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.addClass("a-button-selected").addClass("a-button-focus")},loadMediaIntoAiry:function(a,b,c,f){a&&a.getMediaSourceInfo()!==b.url&&(f?a.loadMedia?(q={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(q)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,
contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:x(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId}))},showUnavailable:function(a){a&&(c("#imageBlock .unvailableVariation").html(a),c("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){c("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:function(a,b,c){b.fadeTo(500,0,function(){K(a,c);b.fadeTo(500,1)})},toggleVideoCaption:function(a){a&&a.toggle()},selectThumbnail:K,spinner:function(a,b){var d=c("#imageBlock .a-spinner").parent();0===d.length&&(d=c("\x3cdiv\x3e\x3c/div\x3e").append(c("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",
width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:E,getIndexForVariant:n,getImageHash:e,lazyLoadingRequired:function(a,b,c){b=Math.max(n(a.color,b.getCurrentItem().variant,c),0);b=-1!==e(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==E(a);return!c.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:z,repositionVideoBanner:function(a,b,c,f){setTimeout(function(){var c=a.width()/a.height();z(c,16,9,b)},f||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!t(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return t(a)&&t(a[b])&&t(a[b].url)?a[b]:-1},isImmersiveViewEnabled:L,
playVideoInImmersiveView:function(a,b){return L(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return t(q)?q.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},
addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return J.isEnabled&&0<c(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:h,isImageBlockGridViewHoverDelayEnabled:function(){return 0<c(".gridImageBlockViewLayoutIn2x4").length||0<c(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return w},updateThumbnailHoverDelay:function(a){if(t(a)){w=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);
if(-1!==b){var c=l;a=a.closest("ul").attr("class");a===X?c=!1:(a=O.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(w=100);l=b}}},setDimensionIngressData:function(a,c,f){P[a]=c;b[a]=f},isDimensionIngressEnabled:function(a){return!!P[a]},getDimensionVariantList:function(a){return b[a]},logError:function(a,b,c,f){r.ueLogError&&r.ueLogError(f,{logLevel:a,attribution:b,message:c})},customerId:""}});"use strict";A.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(p,c,f,I,m,L){function F(g,e,h,k){!b.autoplayVideo||ea||b.useChromelessVideoPlayer?!f.isjQueryObjDefined(g.find(".a-button-selected"))&&(h=a.getCurrentItem(),!k||b.prioritizeVideos||"chromeless-video"===h.type&&b.autoplayVideo)&&(k=f.getVideoHash(h.color,0,b),-1===k||h.thumbnailIndex>=b.maxAlts-1||(e+=0,d.dispatch("updateModel",{data:{index:0,thumbnailIndex:e,variant:k.variant,type:b.useChromelessVideoPlayer?"chromeless-video":
"chromeful-video"}}),e=g.find(".item").get(e),f.selectGivenThumbnail(c(e),g))):(f.selectGivenThumbnail(g.find("img:last"),g),f.fadeToThumbnail(g.find("img").length-1,ba,g))}function J(c){var g=a.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[g]){var e=function(){if(c){b.colorToVideo[g]=c;var f={type:"updatedData",data:a.getCurrentItem()};d.dispatch("updateView",f)}};b.lazyLoadExperienceDisabled?e():A.when(f.rankedImagesReadyEvent(b.colorToAsin[g].asin)).execute(function(){e()})}}function t(c){if(!b.useChildVideos)return f.lazyLoadingRequired(a.getCurrentItem(),
a,b)?void 0:b.videos;if(b.colorToVideo[c])return b.colorToVideo[c];var d=b.colorToAsin[c];if(d&&d.asin){var g={};g.params={asin:d.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(g.success=function(a){J(a)},I.load("/gp/product/features/apparel-main-image/videos.html",g));return b.colorToVideo&&b.colorToVideo[c]}}function G(a){C&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&
(C.hide(),v.parent().css("z-index",-1),H&&H.hide())}function N(a,c,d){c=ba.width()/ba.height();var g=parseInt(a.videoWidth,10),e=parseInt(a.videoHeight,10);f.updateAspectRatio(c,g,e,v);if(C&&"unrolled-video-add"!==d)C.show(),f.loadMediaIntoAiry(C,a,M,b.tabletWeb);else if(b.tabletWeb)C=Q;else{if("unrolled-video-add"===d){C=Q;return}if(null===Q||Q===X)W=setInterval(function(){C=Q;C!==X&&null!==C&&(C.show(),f.loadMediaIntoAiry(C,a,M,b.tabletWeb),B(),E(C),clearInterval(W),W=null)},500);else if(C=Q,C!==
X&&null!==C){C.show();f.loadMediaIntoAiry(C,a,M,b.tabletWeb);B();E(C);return}}B();E(C)}function B(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(b)){if(1<f.getVideosCount(a.getCurrentItem().color,b)&&H){if(f.isDefined(ca)){H.show();return}ca=c('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);H.find("#videoCaption").append(ca);p.declarative.create(ca,"videoIngressClick",S)}f.playVideoInImmersiveView(b,
a.getCurrentItem().color)&&(p.declarative.create(v,"videoIngressClick",S),v.attr&&v.attr("data-ux-click",""),v.children().css("z-index","-1"),v.css("display","inline-block"))}else H&&(H.find("#videoCaption").text(b.staticStrings.playVideo),H.show())}function y(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=f.getVideoHash(a.color,a.index,b);if(-1===d)return-1;"chromeful-video"===a.type&&N(d,a.thumbnailIndex+1,c)}}function u(d,e,h){if((2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment)&&h)return d;var l=t(e);e=d;var n=c(".unrolledImg"),ma=f.isDefined(l)&&0<l.length&&b.alwaysIncludeVideo?1:0;f.isDefined(l)&&0<l.length&&!b.alwaysIncludeVideo&&d===b.maxAlts&&m.postCountMetric("IBVideoDrop");n.length>b.maxAlts&&n.each(function(a){a>=b.maxAlts&&c(this).remove()});ma&&d===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(c(".thumbItemUnrolled").last().remove(),c(".unrolledImg").last().remove()):g.find(".item:last").remove(),
d--);f.isDefined(l)&&(c.each(l,function(e,h){if(d<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var k=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";c('\x3cli class\x3d"thumbItemUnrolled thumbType'+k+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(c("ul.regularAltImageViewLayout"));c('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
d+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(c(".unrolledScrollBox .list-unrolled"));b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||x(c(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{k=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var n={type:k,index:e,thumbnailIndex:d,variant:h.variant};S={type:"video-ingress",index:e,thumbnailIndex:d,variant:h.variant};f.useTabbedImmersiveView(b)&&("chromeful-video"===
k&&(ka+=" videoBlockIngress  videoBlockDarkIngress",h.thumb=h.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ka+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");f.createThumbnail(n,h.thumb,g,ka);2===b.dp60VideoPosition&&x(g,b.dp60VideoPosition);f.useTabbedImmersiveView(b)&&(K(g.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),e=1<l.length?"multiple-videos":"one-video",(n=1<l.length?l.length+" "+b.staticStrings.multipleVideos:
b.staticStrings.singleVideo)&&g.find(".videoBlockIngress").append(g.find("#videoCount_template").clone().text(n).attr("id","videoCount")).addClass(e));h=m.buildNexusMetric("ib.thumbnailRender",d+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,V,T,Z,U);e=O(b,a.getCurrentItem().color);e!==h.pageAsin&&(h.pageAsin=e,V=r.location.href,e=V.replace(/\/dp\/([A-Z0-9]{10})/,"/dp/"+e),h.pageUrl=e);m.emitNexusMetric(h);da||(da=!0,m.postCountMetric("chromeless-video"===k?"dppc_chromelessVideoAvailable":
"dppc_chromefulVideoAvailable"))}d++}if(f.useTabbedImmersiveView(b))return!1}),F(g,e,d,h),q(k),b.imageBlockRenderingStartTime&&m.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",p.now()-b.imageBlockRenderingStartTime));return d}function x(a,d){if(0!==d)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var f=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",g=a.children(".thumbTypeimage");a=a.children(".thumbType"+f);g&&a&&g[d-1]&&c(g[d-1]).before(a[0]);
a=c(".unrolledScrollBox .list-unrolled");g=a.children(".unrolledImg.imgMedia");a=a.children(".unrolledImg.videoMedia");g&&a&&g[d-1]&&c(g[d-1]).before(a[0]);c(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var b=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&c(this).removeClass(this.classList[b]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else g=a.children(".imageThumbnail"),a=a.children(".videoBlockIngress"),
g&&a&&g[d-1]&&c(g[d-1]).before(a[0])}function K(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function E(a){b.autoplayVideo&&a&&!ea&&(H&&f.toggleVideoCaption(H),a.setVolume(0),a.show(),a.play(),ea=!0)}function n(a){C&&C.pause();a.data=S;a.clickTimeStamp=a.$event.timeStamp;var g="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";d.dispatch("imageClick",a);m.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=
m.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].rankingStrategy,f.customerId,b.videos[0].groupType,V,T,Z,U);m.emitNexusMetric(a);m.postCountMetric(g);c("#main-video-container .vjs-control-bar").css("display","none");c("#main-video-container .vjs-poster").css("display","inline-block")}function e(a){null!==C&&C!==X&&(C.frame&&C.frame.remove(),C=null,Q.frame&&Q.frame.remove(),Q=null);Q=a.player;c("#main-video-container .vse-airy-container.vse-player-container").css("min-width",
"auto");Q.hide=function(){Q.pause();p.$("#main-video-container").find(".vse-player-container").hide()};Q.show=function(){p.$("#main-video-container").find(".vse-player-container").show()};Q.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function z(d,g,e,h,k,l){G(l);v=null!==l?c("#unrolledImgNo"+l.thumbnailIndex):h.find("#main-video-container");sa&&(H=null!==l?"":v.parent().find("#video-canvas-caption"));ba=null!==l?c(".unrolledScrollBox"):c("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&
(v.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));V=r.location.href;d=a.getCurrentItem().color;!0===k?T=b.mediaAsin:(T=b.colorToAsin[d]&&b.colorToAsin[d].asin,T=f.isDefined(T)?T:b.mediaAsin);b.useChromelessVideoPlayer||v.addClass("chromeful-container");null!==l?y(l,"unrolled-video-add"):y(a.getCurrentItem(),"");f.useTabbedImmersiveView(b)&&p.declarative("videoIngressClick",["click"],n);if(-1!==m&&null!==l){d=a.getCurrentItem().color;var m=f.getVideoHash(d,
l.index,b);k={requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,imageURL:m.slateUrl},product:{contentID:O(b,d),contentIDType:"ASIN"}};L.get(p,"#unrolledImgNo"+l.thumbnailIndex,k,function(){p.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}
function Y(a,b){function d(){var a=Math.floor((g.width()-1)/l);return e?a-1:a}function f(a){a=d();b.slice(a).hide();b.slice(0,a).show();b.find(".textMoreImages").remove();b.removeClass("overlayRestOfImages");b.find("img").each(function(){c(this).parent().attr("aria-hidden","true")});if(a<b.length){var g=a-1;a=b.eq(g);b.eq(g).find("img").parent().attr("aria-hidden","false");g=b.length-g;g=c("\x3cspan\x3e").addClass("textMoreImages").text(g+"+");a.find("img").after(g);a.addClass("overlayRestOfImages")}}
var e=0!=g.find(".item.videoThumbnail").length,h=b.eq(0).width(),k=b.eq(1).position().left-b.eq(0).position().left-h,l=h+k;f();a.register("resize",f)}function h(a){var b=g.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==X&&c.decode().then(function(){Y(a,b)})}}function q(a){try{if(!a)return!1;na=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<fa.length&&(la=new IntersectionObserver(D,
a));fa.forEach(function(a){la.observe(a)})}catch(ta){m.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function D(a){na(a,pa,ra,fa,qa)}function k(b,d,g,f,e){try{c.each(b,function(b,h){var k=c(f).index(h.target);h.isIntersecting?ha[k]||(ha[k]=setTimeout(function(){d=d.slice();d.push(k);g=d.sort(function(a,b){return a-b});var b=w(g,e);if(0!==b.length&&0!==g.length){var c=a.getCurrentItem().color;c=t(c);l(c,b);delete ha[k]}},1E3)):(clearTimeout(ha[k]),delete ha[k],d=d.filter(function(a){return a!==
k}),g=d.sort(function(a,b){return a-b}))})}catch(va){m.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function w(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function l(a,b){try{if(!a||!b||0===a.length||0===b.length)return!1;c.each(b,function(b,c){if(c=1===fa.length?a[0]:a[c])b=m.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,f.customerId,c.groupType,r.location.href,T,Z,U),m.emitNexusMetric(b)})}catch(ua){m.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}
function O(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}var P,b,a,d,g,v,H,ba,ca,C,M,S,aa,Q,T,V,Z,U,R,ia,ja,da=!1,ea=!1,ka="videoThumbnail",W=null,la=null,ra,qa=[],fa,pa=[],na=null,oa=p.state("imageBlockStateData"),sa=oa?!oa.shouldRemoveCaption:!0,ha={};return function(k,n,r,t){P=this;b=k;a=n;d=t;M=b.airyConfig;Z=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;f.customerId=f.customerId||b.customerId||
"";b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(R="tablet",U="applicationType.ImageBlock.vse_ib_tablet_web"):p.capabilities.tablet?(R="tablet",p.capabilities.isAmazonApp&&(U="applicationType.ImageBlock.vse_ib_tablet_app")):(R="desktop",U="desktop_web.ImageBlock.vse_ib_iv");P.render=function(e,k,l,m,n,q){null!==W&&(clearInterval(W),W=null,v&&v.parent&&v.parent().css("z-index",-1),H&&H.hide&&H.hide());var r=[];if(2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment){g=c("ul.regularAltImageViewLayout");aa=u(k,e,q);r=[];k=c(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var t=0;t<k.length;t++){var w=k[t].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",x=Number(k[t].classList[2].slice(10)),y=c(".thumbItemUnrolled").index(k[t]);r.push({color:e,thumbnailIndex:y,type:w,varient:"MAIN",
index:x})}for(t=0;t<r.length;t++)z(e,l,m,n,q,r[t])}else g=m,aa=u(k,e,q),z(e,l,m,n,q,null),e=a.getCurrentItem().color,l=f.getVideoHash(e,0,b),-1!==l&&(e=b.tabletWeb?f.getNilgiriServiceAjaxRequest(b,e,l):{requester:"MediaBlockSoftlines",marketplaceID:l.marketPlaceID,clientPrefix:"mbSoftlines",locale:l.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:l.url,imageURL:l.slateUrl},product:{contentID:O(b,e),contentIDType:"ASIN"}},
L.get(p,"#main-video-container",e,function(){p.$("#main-video-container").find(".vse-player-container").hide()},function(){p.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&h(d);return aa};P.setupIntersectionObserverToWatchVideoThumbnail=q;P.emitMultipleImpressionMetric=l;f.isImageBlockGridViewHoverDelayEnabled()?P.update=function(c){null!==W&&(clearInterval(W),W=null,v&&v.parent&&v.parent().css("z-index",-1),H&&H.hide&&H.hide());var e=c.data;"ingress"===
e.type||"swatchHover"===c.type||f.lazyLoadingRequired(e,a,b)||(a.setToPreviousItem(),"mouseenter"===c.type?(ja&&clearTimeout(ja),ja=setTimeout(function(){a.setToCurrentItem(e);G(null)},f.getHoveringDelayTimer())):"mouseleave"===c.type?ja&&clearTimeout(ja):"click"===c.type&&(a.setToCurrentItem(e),G(null)));if("swatchHover"===c.type)"ingress"===e.type||f.lazyLoadingRequired(e,a,b)||G(null),e.color===a.getCurrentItem().color?y(a.getCurrentItem(),""):c.captured||f.lazyLoadingRequired(e,a,b)&&!f.lazyLoadOnHoverEnabled(b)&&
y(a.getCurrentItem(),"");else if("chromeful-video"===e.type){var h=f.getVideoHash(e.color,e.index,b);"mouseenter"===c.type?(m.postCountMetric("dpcc_videoThumbHovered_"+(e.thumbnailIndex+1)+"_"+aa),h=m.buildNexusMetric("ib.thumbnailHover",e.thumbnailIndex+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,V,T,Z,U),m.emitNexusMetric(h),ia&&clearTimeout(ia),ia=setTimeout(function(){y(e,"");!b.usePeekHover&&p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(c.$declarativeParent,
g)},f.getHoveringDelayTimer())):"mouseleave"===c.type?ia&&clearTimeout(ia):"click"===c.type&&(y(e,""),p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(c.$declarativeParent,g),h=m.buildNexusMetric("ib.thumbnailClick",e.thumbnailIndex+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,V,T,Z,U),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===e.type||"tablet"==R)&&m.emitNexusMetric(h),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(h),m.postCountMetric("dpcc_videoThumbClicked_"+
(e.thumbnailIndex+1)+"_"+aa),S.action="videoIngressClick",S.clickTimeStamp=c.$event.timeStamp,S.$event=c.$event,S.$currentTarget=c.$currentTarget,d.dispatch("videoIngressClick",S),m.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp))))}}:P.update=function(c){null!==W&&(clearInterval(W),W=null,v&&v.parent&&v.parent().css("z-index",-1),H&&H.hide&&H.hide());var e=c.data;"ingress"===e.type||f.lazyLoadingRequired(e,a,b)||G(null);if("swatchHover"===c.type)e.color===a.getCurrentItem().color?
y(a.getCurrentItem(),""):c.captured||f.lazyLoadingRequired(e,a,b)&&!f.lazyLoadOnHoverEnabled(b)&&y(a.getCurrentItem(),"");else if("chromeful-video"===e.type){var h=f.getVideoHash(e.color,e.index,b);if("mouseenter"===c.type){m.postCountMetric("dpcc_videoThumbHovered_"+(e.thumbnailIndex+1)+"_"+aa);var k=m.buildNexusMetric("ib.thumbnailHover",e.thumbnailIndex+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,V,T,Z,U);m.emitNexusMetric(k)}y(e,"");b.usePeekHover&&"click"!==c.type||!p.$(c.$currentTarget).closest("li").hasClass("videoThumbnail")||
(f.selectGivenThumbnail(c.$declarativeParent,g),"click"===c.type&&(h=m.buildNexusMetric("ib.thumbnailClick",e.thumbnailIndex+1,h.mediaObjectId,h.rankingStrategy,f.customerId,h.groupType,V,T,Z,U),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===e.type||"tablet"==R)&&m.emitNexusMetric(h),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(h),m.postCountMetric("dpcc_videoThumbClicked_"+(e.thumbnailIndex+1)+"_"+aa),S.action="videoIngressClick",S.clickTimeStamp=c.$event.timeStamp,S.$event=c.$event,S.$currentTarget=
c.$currentTarget,d.dispatch("videoIngressClick",S),m.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp))))}};if(b.isDPXFeatureEnabled)p.on("triggerVideoAjax",J);p.on("vsePlayer-imageblock_tablet",e);p.on("vsePlayer-mbsoftlines",e)}});"use strict";A.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(p,c){function f(c,f,L,F,J){function m(c){"click"===c.type&&F.postCountMetric("thumbClick");"click"===c.type&&q.overrideAltImageClickAction?D.dispatch("thumbActionClick",
c):D.dispatch("updateSelection",c)}function G(c){q.useClickZoom||D.dispatch("imageClick",c)}function I(c){q.useClickZoom||D.dispatch("imageHover",c)}function B(c){D.dispatch("button360Click",c)}function y(e){!L.isDefined(e)||"swatchClick"!==e.type&&"updatedData"!==e.type?(h.update(e),"swatchHover"!==e.type&&k.getPreviousItem().thumbnailIndex!==e.data.thumbnailIndex&&F.postCountMetric(e.data.type+"ThumbnailSelected"),c.trigger("image-block-thumbnail-selected",e.data)):(h.render(e.data.color,!1,e.onload,
e.type),e={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",e))}function u(c){D.dispatch("resize",c)}function x(c){L.selectThumbnail(c,w)}function K(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function E(){q.interactiveCallJSPEnabled||("function"===typeof r.markFeatureInteractive&&
r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===p.useIV?A.when("a-modal").execute(function(){K()}):K());q.disableHoverOnAltImages||c.declarative("thumb-action",["mouseenter","mouseleave"],m);c.declarative("thumb-action",["click"],m);c.declarative("main-image-click",["click"],G);c.declarative("main-image-click",["mouseenter","mouseleave"],I);c.declarative("button-360-click",
["click"],B);c.on("resize",u)}function n(c){var e=c.data,f;e&&"ingress"!==e.type&&"click"===c.type&&(f=c);return f}function e(c){var e=k.getCurrentItem(),f={type:"click"};f.$declarativeParent=c;f.data=e;return f}function z(){var c=w.find(".item.imageThumbnail");if(!(1>=c.length)){var e=k&&k.getCurrentItem()&&k.getCurrentItem().color;e=(e=q.colorImages&&e&&q.colorImages[e])&&e.length;c.removeClass("overlayRestOfImages");c.length<e&&(c.eq(c.length-1).addClass("overlayRestOfImages"),c=document.createElement("div"),
c.className="lastAltImageOverlay",(e=(e=(e=document.getElementsByClassName("overlayRestOfImages")[0])&&e.getElementsByTagName("img"))&&0<e.length&&e[0])&&e.parentNode&&(e.parentNode.insertBefore(c,e),e=(e=e.parentNode.getElementsByClassName("textMoreImages"))&&0<e.length&&e[0]))&&("T1"===q.desktopCollapsibleThumbnailsExperience?(e.classList.add("textMoreImages-t1"),c.classList.add("lastAltImageOverlay-t1"),F.postCountMetric("desktopCollapsibleThumbnailShowT1")):"T2"===q.desktopCollapsibleThumbnailsExperience&&
(e.classList.add("textMoreImages-t2"),c.classList.add("lastAltImageOverlay-t2"),F.postCountMetric("desktopCollapsibleThumbnailShowT2")))}}function R(c){L.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===c.type&&L.updateThumbnailHoverDelay(c.$target)}var h,q,D,k,w;return function(c,m,p){h=this;q=c;D=m;k=p;w=f("#imageBlock #altImages ul");var b=f("#imageBlock .canvas"),a=f("#main-image-container"),d;h.subViews=[];for(m=0;m<J.length;m++)h.subViews.push(new J[m](c,p,h,D));h.render=function(c,l,
m,n){var g=0;w.find(".item").remove();c=c||k.getCurrentItem().color;f.each(h.subViews,function(d,e){g=(2===q.unrolledImageBlockTreatment||3===q.unrolledImageBlockTreatment?e.render(c,g,b,w,a,l,m,n):e.render(c,g,b,w,a,l,m))||g});"T1"!==q.desktopCollapsibleThumbnailsExperience&&"T2"!==q.desktopCollapsibleThumbnailsExperience||z();var p=w.find(".a-button-selected").closest(".a-declarative");d=e(p)};h.init=function(){w=f("#imageBlock #altImages ul");var a=w.find(".a-button-selected").closest(".a-declarative"),
b=a.data("action");a=a.data(b)||{};a.color=q.landingAsinColor||q.defaultColor;D.dispatch("updateModel",{data:a});h.render(a.color,!0);q.isDebug&&r.console&&console.log(q);D.register("updateView",y);D.register("selectThumbnail",x);E()};h.update=function(a){R(a);f.each(h.subViews,function(b,c){c.update(a)});q.usePeekHover&&("mouseleave"===a.type?D.dispatch("updateSelection",d):"click"===a.type&&(d=n(a)||d))}}}c=["A","jQuery","imageBlockUtils","postMetric"].concat(p.views);A.when.apply(A,c).register("ImageBlockView",
function(){for(var c=arguments[0],m=arguments[1],p=arguments[2],r=arguments[3],A=[],t=4,G=arguments.length;t<G;t++)A.push(arguments[t]);return f(c,m,p,r,A)})})});
/* ******** */
(function(K){var t=window.AmazonUIPageJS||window.P,ja=t._namespace||t.attributeErrors,h=ja?ja("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):t;h.guardFatal?h.guardFatal(K)(h,window):h.execute(function(){K(h,window)})})(function(K,t,ja){K.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,d,r,l){function Z(e,b){var q=a(e+" image").attr("data");a(e+" image")[0].setAttribute("href",
q);e=new Image;e.src=q;e.onload=function(){b(this.width/this.height)}}function u(e){null!==a(e.euclidSvg)&&(new Promise(function(b,a){Z(e.euclidSvg,b)})).then(function(b){if(null===a(e.featureDiv)||0===a(e.featureDiv).length||0>=b)var q=null;else{var d=a(e.featureDiv).width(),c=a(e.featureDiv).height(),g=2*(16+C(e.euclidHeightText,e.numberSpace)+10),k=d-g,h=a(e.euclidHeightLine).data("euclid-height-startx");0>h?g+=k*Math.abs(h)*2:1<h&&(g+=k*(h-1)*2);k=d-g;0>k&&(g=152);var ia=a(e.euclidWidthLine).data("euclid-width-starty"),
m=1<ia?c*(ia-1)+50:50,aa=c-m;if(k/aa>b)var X=aa*b,G=aa,x=aa*b+g,I=c;else X=k,G=k/b,x=d,I=k/b+m;q={imageWidth:X,imageHeight:G,svgWidth:x,svgHeight:I}}if("undefined"===typeof q||null===q||10>=q.imageWidth||10>=q.imageHeight||10>=q.svgWidth||10>=q.svgHeight)l.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var w=q,n=e.euclidSvg;a(n+" image").attr("width",w.imageWidth);a(n+" image").attr("height",w.imageHeight);a(n).attr("width",w.svgWidth);a(n).attr("height",w.svgHeight);var r=(w.svgWidth-
w.imageWidth)/2;a(n+" image")[0].setAttribute("x",r);a(n+" image")[0].setAttribute("y",10);var fa=w.imageWidth,u=w.imageHeight,z=(w.svgWidth-w.imageWidth)/2,y=a(e.euclidLengthLine).data("euclid-length-startx")*fa,W=a(e.euclidLengthLine).data("euclid-length-starty")*u,D=a(e.euclidLengthLine).data("euclid-length-endx")*fa,A=a(e.euclidLengthLine).data("euclid-length-endy")*u,Y=a(e.euclidWidthLine).data("euclid-width-startx")*fa,ba=a(e.euclidWidthLine).data("euclid-width-starty")*u,F=a(e.euclidWidthLine).data("euclid-width-endx")*
fa,U=a(e.euclidWidthLine).data("euclid-width-endy")*u,Z=a(e.euclidHeightLine).data("euclid-height-startx")*fa,t=a(e.euclidHeightLine).data("euclid-height-starty")*u,M=a(e.euclidHeightLine).data("euclid-height-endx")*fa,ra=a(e.euclidHeightLine).data("euclid-height-endy")*u,fb=(U-ba)/(F-Y),gb=0>=fb?"leftInclined":"rightInclined",Ra=1/fb,na=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===na?16:Math.abs(Ra*na),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),da=0===sa?3:Math.abs(Ra*
sa),K=(A-W)/(D-y),N=1/K,E=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(N,2)))),H=0===E?16:Math.abs(N*E),J=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(N,2)))),L=0===J?3:Math.abs(N*J),ka=0>=K?"leftInclined":"rightInclined";if(.5<a(e.euclidHeightLine).data("euclid-height-startx")){var Q=Z+z+16,R=t+10,S=M+z+16,T=ra+10,ca=Z+z+16-3,qa=t+10,ma=Z+z+16+3,ja=t+10,hb=M+z+16-3,ib=ra+10,jb=M+z+16+3,kb=ra+10,lb=(Q+S)/2+5,mb=(R+T)/2+8,za=F+z+na,Aa=U+pa+10,Ba=Y+z+na,Ca=ba+pa+10,nb=F+z+na-sa,ob=U+pa-da+10,pb=F+
z+na+sa,qb=U+pa+da+10,rb=Y+z+na-sa,sb=ba+pa-da+10,tb=Y+z+na+sa,ub=ba+pa+da+10;if("leftInclined"===gb){var Sa=(za+Ba)/2;var Ta=(Aa+Ca)/2+15}else Sa=(za+Ba)/2+5,Ta=(Aa+Ca)/2;var Da=y+z-E,Ea=W+H+10,Fa=D+z-E,Ga=A+H+10,vb=y+z-E-J,wb=W+H+L+10,xb=y+z-E+J,yb=W+H-L+10,zb=D+z-E-J,Ab=A+H+L+10,Bb=D+z-E+J,Cb=A+H-L+10,Fb=C(e.euclidLengthText,e.numberSpace);if("leftInclined"===ka)var Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15;else Ua=(Da+Fa)/2-Fb,Va=(Ea+Ga)/2+15}else{Q=Z+z-16;R=t+10;S=M+z-16;T=ra+10;ca=Z+z-16-3;qa=t+10;ma=Z+
z-16+3;ja=t+10;hb=M+z-16-3;ib=ra+10;jb=M+z-16+3;kb=ra+10;var Gb=C(e.euclidHeightText,e.numberSpace);lb=(Q+S)/2-Gb-3;mb=(R+T)/2+8;za=F+z-na;Aa=U+pa+10;Ba=Y+z-na;Ca=ba+pa+10;nb=F+z-na-sa;ob=U+pa+da+10;pb=F+z-na+sa;qb=U+pa-da+10;rb=Y+z-na-sa;sb=ba+pa+da+10;tb=Y+z-na+sa;ub=ba+pa-da+10;var Db=C(e.euclidWidthText,e.numberSpace);"leftInclined"===gb?(Sa=(za+Ba)/2-Db,Ta=(Aa+Ca)/2):(Sa=(za+Ba)/2-Db,Ta=(Aa+Ca)/2+15);Da=y+z+E;Ea=W+H+10;Fa=D+z+E;Ga=A+H+10;vb=y+z+E+J;wb=W+H+L+10;xb=y+z+E-J;yb=W+H-L+10;zb=D+z+E+
J;Ab=A+H+L+10;Bb=D+z+E-J;Cb=A+H-L+10;"leftInclined"===ka?(Ua=(Da+Fa)/2,Va=(Ea+Ga)/2+15):(Ua=(Da+Fa)/2+15,Va=(Ea+Ga)/2)}var Hb=Da;var Ib=Ea;var Jb=Fa;var Kb=Ga;var Lb=vb;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Ua;var Ub=Va;var Vb=za;var Wb=Aa;var Xb=Ba;var Yb=Ca;var Zb=nb;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=Sa;var hc=Ta;var ic=Q;var jc=R;var kc=S;var lc=T;var mc=ca;var nc=qa;var oc=ma;var pc=ja;var qc=hb;var rc=ib;var sc=
jb;var tc=kb;var uc=lb;var vc=mb;V(n+" .hit-pd-euclid-height-line",ic,jc,kc,lc);V(n+" .hit-pd-euclid-height-start",mc,nc,oc,pc);V(n+" .hit-pd-euclid-height-end",qc,rc,sc,tc);la(n+" .hit-pd-euclid-height-text",uc,vc);V(n+" .hit-pd-euclid-width-line",Vb,Wb,Xb,Yb);V(n+" .hit-pd-euclid-width-start",Zb,$b,ac,bc);V(n+" .hit-pd-euclid-width-end",cc,dc,ec,fc);la(n+" .hit-pd-euclid-width-text",gc,hc);V(n+" .hit-pd-euclid-length-line",Hb,Ib,Jb,Kb);V(n+" .hit-pd-euclid-length-start",Lb,Mb,Nb,Ob);V(n+" .hit-pd-euclid-length-end",
Pb,Qb,Rb,Sb);la(n+" .hit-pd-euclid-length-text",Tb,Ub);P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(e===O&&"dimension-ingress-image"===v.getCurrentItem().type?(B(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),l.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
oa)):e===ha&&(a("ivDimensionTab").css("display","block"),f(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),l.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-p)))}});P("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&E(e===O,v.getCurrentItem(),null)}function C(e,b){return a(e).text().replace(/[^0-9]/g,"").length*b+5}function V(e,b,q,d,c){e=a(e)[0];e!==ja&&null!==e&&(e.setAttribute("x1",b),e.setAttribute("y1",
q),e.setAttribute("x2",d),e.setAttribute("y2",c))}function la(e,b,d){var q=a(e)[0];q!==ja&&null!==q&&(q.setAttribute("x",b),q.setAttribute("y",d),e=a(e+" tspan"),e!==ja&&null!==e&&2===e.length&&(e[0].setAttribute("x",b),e[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),e[1].setAttribute("x",b),e[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function R(e){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){e=
x(e.color);if(null===e)return;if(e in H)P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&H[e].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),H[e]=b):J(e)}}u(O)}}
function J(e){try{setTimeout(function(){g++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(e in H||(H[e]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),u(O)):100>
g&&J(e)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function P(e){return"true"===a(e).attr("data-should-use-in-hero")}function E(e,b,d){var q=m.colorImages[b.color],c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");c&&0<c.length?(q=K(q),S(q,e,b,d)):T(q,e,b,d)}function T(e,b,d,c){try{setTimeout(function(){aa++;var q=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
q&&0<q.length?(q=K(e),S(q,b,d,c)):100>aa?T(e,b,d,c):(l.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),q=e[0],S(q,b,d,c))},100)}catch(Ia){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+Ia)}}function K(e){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),d=e[0],c=0;c<e.length;c++){var g=e[c];g.variant===b&&(d=g)}d===e[0]&&l.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return d}function S(e,b,q,c){b?((b=X.find(".item.dimensionItemNo"+q.thumbnailIndex))&&b.remove(),b=q.thumbnailIndex,c=N(e,c),q=X.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),q.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),q.find(".placeHolder").replaceWith(c),q.find(".a-declarative").attr("data-action",
"dimension-hero-click"),X.find(".list").append(q),h.loadImageManually(c),c=b=q,q=fa.css("height"),null!==q&&c.find(".imgTagWrapper").css("height",q),c.addClass("selected"),m.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(m.imgTagWrapperClasses),ia.dispatch("loadMagnifier"),c=b,m.useIV&&d.isDefined(e.hiRes)&&c.css("cursor","pointer"),h.trigger("dp:image-block:update",e)):(L(e),f(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function L(e){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return F(b,d)}d=a("\x3cdiv\x3e\x3c/div\x3e");d.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");d.html(c);b.append(d);d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");d.attr("src",e.hiRes);return F(b,d)}function F(a,b){a=a.closest("#ivStageDimensions");var e=a.width();a={height:"auto","max-height":a.height(),"max-width":e,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function N(e,b){var c="a-dynamic-image";if(!m.acEnabled){var g;a.each(e.main,function(b,a){d.isDefined(g)||(g=parseFloat(a[1]/a[0])<=parseFloat(m.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=g}var v=d.getMaxDimensionsOfMainImage(e.main,fa,m),k=v[0],f=v[1];v=a("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":f};v.addClass(c).css(k).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",e.main);return v}function c(){a("#image-canvas-caption #canvasCaption").html(m.dimensionIngressAtfData.initial.heroImageCaption)}
function x(a){var b=m.colorToAsin[a];return b&&b.asin?a=m.colorToAsin[a].asin:a=m.mediaAsin?m.mediaAsin:null}function w(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function B(){null!==a(O.euclidSvg)&&0!==a(O.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):E(O,v.getCurrentItem(),null)}function D(a,b){m.usePeekHover&&"click"!==b.type||d.selectGivenThumbnail(b.$declarativeParent,a)}function y(a){a.action="dimensionIngressClick";a.data=Y;ia.dispatch("dimensionIngressClick",a)}function M(){p=Date.now();if(U&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var e=x(v.getCurrentItem().color);if(null!==e){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",b);e in H?H[e].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),H[e]=b):I(e));r.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,m);r.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));ka();U=!1}e=a("#iv-tab-view-container").find("#ivThumbsDimensions");
e.find(".ivRow").not(".placeholder").remove();b=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e);var d=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,c=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var g=
m.colorImages[v.getCurrentItem().color];g=K(g);L(g);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}k(e,b,g.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}c&&(g=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),k(e,b,g,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}A()}function A(){ba=a("#ivDimensionTab").height();if(0!==
ba){r.detachImmersiveViewResizeHandler(M);var e=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),d=a("#ivDimensionTab").width();e.css("height",b);e.css("width",d);d=e.find("#ivTitleDimensions").outerHeight(!0);var c=e.find("#ivVariationSelectionDimensions").outerHeight(!0),g=e.find("#ivThumbsDimensions"),v=r.getDimension(g,"margin-top")+r.getDimension(g,"margin-bottom");g.css("height",b-d-c-v);d=e.find("#ivStageDimensions");e=(e[0]&&e[0].getBoundingClientRect&&Math.floor(e[0].getBoundingClientRect().width)||
e.width())-r.getDimension(e,"padding-left")-r.getDimension(e,"padding-right")-e.find("#ivThumbColumnDimensions").width()-r.getDimension(d,"margin-left")-r.getDimension(d,"margin-right");d.css("width",e);d.css("height",b);u(ha)}}function k(a,b,d,c,g){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:g}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(d)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");G(a,c)}function G(a,
b){a.click(function(){f(a,b)})}function f(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&F(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function I(e){try{setTimeout(function(){ca++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(e in H||(H[e]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),A()):100>ca&&I(e)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+b)}}function da(e,b){Q&&clearTimeout(Q);"mouseenter"===b.type&&(Q=setTimeout(function(){R(e);a("#image-canvas-caption #canvasCaption").empty();c();D(W,b)},d.getHoveringDelayTimer()));"mouseleave"===b.type&&c()}var n,m,v,ia,W,X,fa,Y,U=!0,oa,p,Q,t,H={},
g=0,ca=0,aa=0,ba,O={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},ha={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},ka=h.once(function(){r.attachImmersiveViewResizeHandler(M)});h.on.resize(function(){P("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&u(O)});return function(e,b,k,f){n=this;m=e;v=b;ia=f;e=m.mediaAsin;b=[];m&&m.dimensionIngressAtfData&&m.dimensionIngressAtfData.initial&&(b=m.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(e,m.dimensionIngressEnabled,
b);n.render=function(b,e,c,k,q,f){W=k;X=2!==m.unrolledImageBlockTreatment&&3!==m.unrolledImageBlockTreatment?c:a(".unrolledScrollBox");fa=q;U=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();ca=g=0;c=x(v.getCurrentItem().color);if(null!==c){if(d.isDimensionIngressEnabled(c)&&m.dimensionIngressThumbURL&&m.dimensionIngressThumbURL.initial&&
m.dimensionIngressThumbURL.initial.length){c=d.getDimensionVariantList(c);if(c.includes("DIMN")||c.includes("DCMN"))Array.isArray(c)||(c=JSON.parse(c.replace(/(\w+)/g,'"$1"'))),c.push("DIMN"),c.push("DCMN");if(c&&0<c.length){q=m.colorImages[b];f=k.find(".item.imageThumbnail");for(var h=0;h<f.length&&h<m.maxAlts-1;h++){var p=q[h].variant;"MAIN"!=p&&c.includes(p)&&(p=f.eq(h))&&(p.remove(),e--)}}e===m.maxAlts&&(k.find(".item.imageThumbnail").last().remove(),e--);Y={type:"dimension-ingress-image",index:0,
thumbnailIndex:e,variant:"Main"};d.createThumbnail(Y,m.dimensionIngressThumbURL.initial,k,"dimension-ingress-imageblock-thumbnail");k=m.dimensionIngressAtfData.initial.thumbnailCaption;k=a("\x3cspan /\x3e").html(k);k.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");k.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(k);e++;a("#ivDimensionTabHeading").removeClass("aok-hidden");
x(b)!==m.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return e}a("#ivDimensionTabHeading").addClass("aok-hidden")}};n.update=function(b){var e=b.data;v.setCurrentEvent(b);"dimension-ingress-image"===e.type?(e.interaction=b.type,e.isUserGenerated=!0,"mouseenter"===b.type&&(oa=Date.now(),l.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?
da(e,b):(R(e),a("#image-canvas-caption #canvasCaption").empty(),c(),D(W,b)),"click"===b.type&&d.useTabbedImmersiveView(m)&&(y(b),l.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?e.color===v.getCurrentItem().color&&"dimension-ingress-image"===v.getCurrentItem().type?B():w():d.isImageBlockGridViewHoverDelayEnabled()?(v.setToPreviousItem(),"mouseenter"===b.type&&(t&&clearTimeout(t),t=setTimeout(function(){v.setToCurrentItem(e);w()},d.getHoveringDelayTimer())),"mouseleave"===
b.type&&t&&clearTimeout(t),"click"===b.type&&(v.setToCurrentItem(e),w())):w()};r.attachTabSelectHandler("ivDimensionTab",M);h.declarative("dimension-hero-click",["click"],y)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,d,r,l){function Z(){l.populateTitle(c.find("#ivTitle"),160,F)}function u(){var a=N.getCurrentItem().color;w=F.colorImages[a];x=F.heroImage[a];B=D=0;d.isDefined(x)&&(B=x.length);
d.isDefined(w)&&(D=w.length)}function C(){var a=c.find("#ivStage").find("#ivLargeImage"),d=a.width(),f=a.height(),h=a.find(".fullscreen");h.removeAttr("style");var m=h.width(),l=h.height();0<h.length&&(h[0].naturalWidth&&(m=h[0].naturalWidth),h[0].naturalHeight&&(l=h[0].naturalHeight));a.css("cursor","auto");m=0===m?1:m;l=0===l?1:l;var n=Math.min(d/m,f/l),x=l*n,p=m*n;1>n?(M?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),G=!0):G=!1;m=Math.min(p,m);l=Math.min(x-20,l);h.css({"margin-top":(f-l)/2,"margin-left":(d-m)/2,height:l,width:m});a.css("visibility","visible");k=!1}function t(a){var d=c.find("#ivLargeImage");d.css("visibility","hidden");d.empty();l.animateStageIn(d);d.append(a);C()}function K(k){c.find("#ivLargeImage").css("display","none");c.find("#ivLargeImage").css("display","block");if("hero-image"===k){if(d.isDefined(x)){var f=x[y.index];var m=f.hiRes||f.large||f.main[f.main.length-1]}}else d.isDefined(w)&&
(f=w[y.index],m=f.hiRes||f.large||f.main[f.main.length-1]);if(d.isDefined(m)){c.find(".fullscreen").remove();k="fullscreen";f.feedbackMetadata&&(k+=" celwidget "+f.feedbackMetadata);var v=a("\x3cimg\x3e").attr("src",m).addClass(k),n=c.find("#ivLargeImage");l.animateStageOut(n,function(){v.load(function(){t(v);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index)});if(v[0].complete)t(v),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index);else{n.empty();var d=(n.height()-104)/
2,c=(n.width()-80)/2;a("\x3cimg\x3e").attr("src",F.staticImages.spinner).css({position:"relative",top:d+"px",left:c+"px"}).appendTo(n)}})}}function R(a){c.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];K(y.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(B+D))}function J(){c.delegate(".ivThumb","click",function(){var d=a(this);R(d)})}function P(a,d){return 0<
d?d/2:Math.min(0,Math.max(d,a))}function E(a){var d=I.top-(a.pageY-n[1])*da;a=P(I.left-(a.pageX-n[0])*da,f.left);d=P(d,f.top);c.find(".fullscreen").css({left:a,top:d})}function T(){c.delegate("#ivLargeImage","click",function(a){if(k)C();else if(G){c.find(".fullscreen").removeAttr("style");if(G){var d=c.find("#ivLargeImage"),h=d.find(".fullscreen");M?d.css("cursor","url('"+F.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));
k=!0;var m=c.find("#ivLargeImage");f.left=m.width()-h.width();f.top=m.height()-h.height();m=d.height()/2;var l=d.width()/2;n=[d.offset().left+l,d.offset().top+m];I.top=m-h.height()/2;I.left=l-h.width()/2;h.css({position:"relative",left:I.left,top:I.top});da=Math.max(h.height()/d.height(),h.width()/d.width())}E(a);r.postCountMetric("dpcc_iv_largeImageCLick")}});c.delegate("#ivLargeImage","mousemove",function(a){k&&E(a)})}function qa(){c.find("#ivLargeImage").empty()}function S(f){if(A){c=a("#ivMain");
u();y=N.getCurrentItem();Z();l.populateVariationSelection(c.find("#ivVariationSelection"));f=c.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();var k=B+D,h=!1;F&&F.dimensionIngressAtfData&&F.dimensionIngressAtfData.initial&&(h=F.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var n=0,G=0;n<k;)for(var I=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),v=0;4>v&&n<k;v++,n++,G++)if(G<B){var r=x[n].thumb,p=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
n,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":n+1}).appendTo(I);p.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}else if(G>=B&&G<D+B){r=F.colorToAsin[N.getCurrentItem().color].asin;r||(r=F.mediaAsin);if((p=d.isDimensionIngressEnabled(r))&&h){if((r=d.getDimensionVariantList(r))&&r.includes(w[n-B].variant)){v--;continue}}else if(p&&"DIMN"===w[n-B].variant){v--;
continue}r=w[n-B].thumb;p=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(n-B),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":n-B+1}).appendTo(I);p.find(".ivThumbImage").css("background",'url("'+l.getResizedThumbnailURL(r)+'") center no-repeat')}m();A=!1}else Z();f=a("#ivImagesTab").height();c.css("height",f);k=c.find("#ivTitle").outerHeight(!0);h=c.find("#ivVariationSelection").outerHeight(!0);
n=c.find("#ivThumbs");G=l.getDimension(n,"margin-top")+l.getDimension(n,"margin-bottom");n.css("height",f-k-h-G);c.find("#ivLargeImage").css("height",f);f=c.find("#ivStage");k=c[0]&&c[0].getBoundingClientRect&&Math.floor(c[0].getBoundingClientRect().width)||c.width();f.css("width",k-l.getDimension(c,"padding-left")-l.getDimension(c,"padding-right")-c.find("#ivThumbColumn").width()-l.getDimension(f,"margin-left")-l.getDimension(f,"margin-right"));y=N.getCurrentItem();f="hero-image"===y.type?c.find("#ivHeroImage_"+
y.index):"image"===y.type?c.find("#ivImage_"+y.index):d.isDefined(x)?c.find("#ivHeroImage_"+y.index):c.find("#ivImage_"+y.index);d.isjQueryObjDefined(f)||(f=c.find("#ivImage_0"));R(f)}var L,F,N,c,x,w,B,D,y,M=navigator.userAgent.match(/msie|trident/i),A=!0,k=!1,G=!1,f={},I={},da,n;A=!0;var m=h.once(function(){J();T();l.attachImmersiveViewResizeHandler(S);l.attachTabDeselectHandler("ivImagesTab",qa)});return function(d,c,f,k){L=this;F=d;N=c;L.render=function(d,c,f,k,h,m){A=!0;u();0===B+D?l.hideTabHeading("ivImagesTabHeading"):
l.unhideTabHeading("ivImagesTabHeading");1===B+D?a("#ivThumbs").hide():a("#ivThumbs").show()};L.update=function(a){};l.attachTabSelectHandler("ivImagesTab",S)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,d,r,l,Z,u){function C(){var d=P.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),l=d.find(".a-popover-inner");d=d.height()-
u.getDimension(l,"padding-top")-u.getDimension(l,"padding-bottom");a("#iv-tab-view-container").css("height",d);qa=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<qa?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),l=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=l):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);h.trigger("dp:image-block:immersive-view:resize")}
function V(){h.trigger("dp:image-block:immersive-view:reset")}function la(c){if(d.isImmersiveViewEnabled(J,P.getCurrentItem().color))if(L){var x=c.$event.originalEvent;x.acknowledge&&x.acknowledge(c.$currentTarget[0]);l.isEnabled&&Z.logImmersiveViewRequestServed(l);r.postCountMetric("dppc_immersiveViewOpened");d.isDefined(c)&&("button-360-click"===c.action?a("#iv360TabHeading").click():"videoIngressClick"===c.action?(S=c.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===c.action?
(S=c.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===c.action?(S=c.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());x=P.getImmersiveViewModalInstance();if(d.isDefined(x))x.show();else{c=a("#auiImmersiveViewDiv");x=Math.min(Math.max(a(t).height()-150,540),1080);var w=Math.min(Math.max(a(t).width()-75,990),1980);x=L.create(c,{name:"immersiveView",activate:"onclick",width:w,height:x,popoverLabel:"ImmersiveView",hideHeader:!0});P.setImmersiveViewModalInstance(x);
c.click()}T&&(T=!1,F(),h.trigger("dp:image-block:immersive-view:init"))}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var R,J,P,E,T=!0,qa=0,S,L;K.when("a-modal").execute(function(a){L=a});var F=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",C);h.on("a:popover:afterShow:immersiveView",C);h.on("a:popover:afterHide:immersiveView",
V)}),N=h.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",function(c){var l=d.filter(".iv-active");l.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+l.find("a").attr("data-iv-tab-view")+":deselect",c);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();l=a(this).find("a").attr("data-iv-tab-view");a("#"+l).show();"ivVideosTab"===l&&(c.clickTimeStamp=S||c.timeStamp);h.trigger("dp:ivTabs:"+l+":select",
c);r.postCountMetric("dppc_"+l);return!1})});return function(a,u,w,B){R=this;J=a;P=u;l.refToModel=P;E=B;R.render=function(a,d,c,h,k,l){r.postCountMetric("dpcc_altThumbs_"+d);T=!0};R.update=function(a){};R.getTitle=function(){};R.getVariationSelectionInfo=function(){};N();d.isImmersiveViewEnabled(J,P.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");E.register("imageClick",la);E.register("button360Click",la);(J.collapsibleThumbnails||"T1"===J.desktopCollapsibleThumbnailsExperience||"T2"===
J.desktopCollapsibleThumbnailsExperience)&&h.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(la(a),"T1"===J.desktopCollapsibleThumbnailsExperience?r.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT1"):"T2"===J.desktopCollapsibleThumbnailsExperience&&r.postCountMetric("desktopCollapsibleThumbnailImmersiveViewClickT2"))});d.useTabbedImmersiveView(J)&&(E.register("videoIngressClick",la),E.register("showroomIngressClick",la),E.register("dimensionIngressClick",
la))}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,d,r,l,Z,u,C){function V(){g.find("#ivTitle").click(function(){H.hide()})}function la(){b=db?{type:"360-spin"}:Q.getCurrentItem()}function R(){var a=g.find("#ivStage"),b=H.$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner");b=b.height()-C.getDimension(d,"padding-top")-
C.getDimension(d,"padding-bottom");g.css("height",b);d=g.find("#ivTitle").outerHeight(!0);var e=g.find("#ivVariationSelection").outerHeight(!0),c=g.find("#ivMediaSelection").outerHeight(!0),f=g.find("#ivThumbs"),k=C.getDimension(f,"margin-top")+C.getDimension(f,"margin-bottom");f.css("height",b-d-e-c-k);g.find("#ivLargeImage").css("height",b);a.css("width",g.width()-C.getDimension(g,"padding-left")-C.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-C.getDimension(a,"margin-left")-
C.getDimension(a,"margin-right"))}function J(){g.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").show(),"chromeful-video"===b.type&&g.find("#ivVideo_"+b.index).click()):"images"===d?(g.find("#ivVideoList").hide(),g.find("#ivThumbs").show(),g.find(".ivThumbVideo").hide(),"chromeful-video"===b.type&&(0===ha&&0===O?g.find("#iv360").click():0===ha?g.find("#ivHeroImage_0").click():g.find("#ivImage_0").click())):
"videos"===d&&(g.find("#ivVideoList").show(),g.find("#ivThumbs").hide(),"chromeful-video"!==b.type?g.find("#ivVideoList_0").click():g.find("#ivVideoList_"+b.index).click())})}function P(){var a=g.find("#ivStage").find("#ivLargeImage"),b=a.width(),d=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var c=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(c=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");c=0===c?1:c;f=0===f?1:f;var k=Math.min(b/c,d/
f),h=f*k,q=c*k;1>k?(eb?a.css("cursor","url('"+p.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Na=!0):Na=!1;c=Math.min(q,c);f=Math.min(h-20,f);e.css({"margin-top":(d-f)/2,"margin-left":(b-c)/2,height:f,width:c});a.css("visibility","visible");Ma=!1}function E(a){var b=g.find("#ivLargeImage");b.css("visibility","hidden");b.empty();C.animateStageIn(b);b.append(a);P()}function T(){q&&q.pause();g.find("#ivLarge360").css("display",
"none");g.find("#ivLargeVideo").css("display","none");g.find("#ivLargeImage").css("display","none");c()}function qa(e){T();g.find("#ivLargeImage").css("display","block");if("hero-image"===e){if(d.isDefined(ca)){var c=ca[b.index];var ra=c.hiRes||c.large||c.main[c.main.length-1]}}else d.isDefined(aa)&&(c=aa[b.index],ra=c.hiRes||c.large||c.main[c.main.length-1]);if(d.isDefined(ra)){g.find(".fullscreen").remove();e="fullscreen";c.feedbackMetadata&&(e+=" celwidget "+c.feedbackMetadata);var f=a("\x3cimg\x3e").attr("src",
ra).addClass(e),k=g.find("#ivLargeImage");C.animateStageOut(k,function(){f.load(function(){E(f)});if(f[0].complete)E(f);else{k.empty();var b=(k.height()-104)/2,d=(k.width()-80)/2;a("\x3cimg\x3e").attr("src",p.staticImages.spinner).css({position:"relative",top:b+"px",left:d+"px"}).appendTo(k)}})}}function S(){var a;d.isDefined(ba)&&(a=ba[b.index]);d.isDefined(a)&&T()}function L(){la();var a="hero-image"===b.type?g.find("#ivHeroImage_"+b.index):"image"===b.type?g.find("#ivImage_"+b.index):"chromeful-video"===
b.type||"chromeless-video"===b.type?g.find("#ivVideo_"+b.index):"360-spin"===b.type?g.find("#iv360"):d.isDefined(ca)?g.find("#ivHeroImage_"+b.index):g.find("#ivImage_"+b.index);d.isjQueryObjDefined(a)||(a=g.find("#ivImage_0"));F(a)}function F(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(b.type="chromeful-video",b.index=a.attr("id").split("_")[1],S()):a.hasClass("ivHeroImage")?(b.type="hero-image",b.index=a.attr("id").split("_")[1],qa(b.type)):a.hasClass("iv360Image")?
(b.type="360-spin",b.index=0,N()):(b.type="image",b.index=a.attr("id").split("_")[1],qa(b.type))}function N(){T();g.find("#ivLarge360").css("display","block");y();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});C.animateStageIn(a)},200);w();l.postCountMetric("dppc_click360");ya=Date.now()}function c(){0<ya&&(x("dppc_duration360",Date.now()-ya),ya=0)}function x(a,b){t.ue&&t.ue.count(a,b)}function w(){if(0<z){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");
a.animate({opacity:1},200)}}function B(b,d){if(z<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*ta+"px",height:va+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(z++,1===z&&(w(),0<ya&&x("dppc_loadTime360",Date.now()-ya)),0<$a&&x("dppc_perSpriteloadTime360",Date.now()-$a),g.find("#iv360Spinner").hide(),e.show(),Ja=5*ea.imageLocations[Math.floor(Ha/ea.imageLocations[0].length)][Ha%ea.imageLocations[0].length],B(b,d))};e.attr("src",
b[z].replace(/(\._SP)\d+(,)\d+/,"$1"+xa+"$2"+wa));$a=Date.now()}}function D(a){if(d.isDefined(ea.spriteWidthSizes)&&0<ea.spriteWidthSizes.length){var b=ea.spriteWidthSizes,e=b.length,c=b[0],f=b[e-1];if(a<=c)return c;if(a>f)return f;for(c=0;c<e;c++)if(a>b[c]&&a<=b[c+1])return b[c+1]}else return a}function y(){var b=g.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",p.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Ya=!0,M())}function M(){if(d.isDefined(ea.spriteURLs)&&d.isDefined(g)&&Ya&&!Za){var b=g.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(ea.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",ea.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(p.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);e=ea.imageWidth;var c=ea.imageHeight,h=b.parent().width(),q=b.parent().height(),l=0,m=0;e/c>h/q?(xa=D(h),wa=Math.round(c/e*xa),ta=Math.ceil(h),va=Math.ceil(wa/xa*h),m=(q-va)/2):
(wa=D(q),xa=Math.round(e/c*wa),va=Math.ceil(q),ta=Math.ceil(xa/wa*q),l=(h-ta)/2);b.css({"margin-left":l,"margin-top":m,width:ta+"px",height:va+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ta+"px");B(ea.spriteURLs,g.find("#image-360-sprites"),0);e=g.find("#ivLarge360");e.bind("mousedown",f);e.bind("touchstart",A);e.bind("touchmove",k);e.bind("touchend",G);a(document).bind("mousemove",I);a(document).bind("mouseup",da);d.isDefined(p.staticImages.grab)&&
b.css("cursor","url('"+p.staticImages.grab+"'), auto");Za=!0}}function A(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function k(a){La&&(n(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function G(a){La&&(La=!1)}function f(a){Ka=!0;Wa=a.originalEvent.clientX;d.isDefined(p.staticImages.grabbing)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+p.staticImages.grabbing+
"'), auto"));return!1}function I(a){Ka&&(n(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function da(a){Ka&&(Ka=!1,d.isDefined(p.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function n(a){for(a=Ja-=a/ta*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=a;a=360;for(var b=0;b<z;b++)for(var e=0;e<ea.imageLocations[b].length;e++){var c=Math.abs(Ja-5*ea.imageLocations[b][e]);if(c<a){a=c;var f=
b*ea.imageLocations[0].length+e}}f!==Ha&&(a=Math.floor(f/ea.imageLocations[0].length),a!==Math.floor(Ha/ea.imageLocations[0].length)&&(d.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ha=f;a=f%ea.imageLocations[0].length*-1*ta;f=-1*Math.floor(f/ea.imageLocations[0].length)*va;b=g.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");b.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function m(){g.delegate(".ivThumb","click",function(){var b=a(this);F(b)});g.delegate(".ivThumbVideoListOuter","click",function(){g.find(".ivThumbVideoListOuter").removeClass("selected");var e=a(this);e.addClass("selected");b.type="chromeful-video";b.index=e.attr("id").split("_")[1];S()})}function v(){g.find("#ivLargeImage").empty();c()}function ia(a,b){return 0<b?b/2:Math.min(0,Math.max(b,
a))}function W(b){var e=ua.left-(b.pageX-Qa[0])*Pa;h.capabilities.rtl&&(e=ua.left-(a(t).width()-b.pageX-Qa[0])*Pa);b=ua.top-(b.pageY-Qa[1])*Pa;e=ia(e,Oa.left);b=ia(b,Oa.top);g.find(".fullscreen").css({left:e,top:b})}function X(){g.delegate("#ivLargeImage","click",function(a){if(Ma)P();else if(Na){g.find(".fullscreen").removeAttr("style");if(Na){var b=g.find("#ivLargeImage"),e=b.find(".fullscreen");eb?b.css("cursor","url('"+p.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor",
"-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var d=g.find("#ivLargeImage");Oa.left=d.width()-e.width();Oa.top=d.height()-e.height();d=b.height()/2;var c=b.width()/2;Qa=[b.offset().left+c,b.offset().top+d];ua.top=d-e.height()/2;ua.left=c-e.width()/2;e.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(e.height()/b.height(),e.width()/b.width())}W(a)}});g.delegate("#ivLargeImage","mousemove",function(a){Ma&&W(a)})}function fa(b){if(d.isImmersiveViewEnabled(p,Q.getCurrentItem().color))if(cb){var c=
b.$event.originalEvent;c.acknowledge&&c.acknowledge(b.$currentTarget[0]);db=d.isDefined(b)&&"button-360-click"===b.action;Z.isEnabled&&u.logImmersiveViewRequestServed(Z);l.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(H))H.show();else{b=a("#auiImmersiveViewDiv");c=a(t).height()-150;var f=a(t).width()-75;H=cb.create(b,{name:"immersiveView",activate:"onclick",width:f,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});b.click()}if(bb){g=a("#ivMain");b=Q.getCurrentItem().color;aa=p.colorImages[b];
ca=p.heroImage[b];ba=p.useChildVideos?p.colorToVideo[b]:p.videos;Ia=U()&&p.spin360ColorEnabled[b];ea=U()?p.spin360ColorData[b]:ja;la();e=O=ka=ha=0;d.isDefined(ca)&&(O=ca.length);d.isDefined(aa)&&(ha=aa.length);d.isDefined(ba)&&(ka=ba.length);Ia&&(e=1);C.populateTitle(g.find("#ivTitle"),45,p);C.populateVariationSelection(g.find("#ivVariationSelection"));b=g.find("#ivMediaSelect");0===ha+e||0===ka?(b.parent().hide(),g.find("#ivThumbs").addClass("noMediaSelection")):(b.empty(),a("\x3coption/\x3e").attr("value",
"all").prop("selected",!0).text(p.staticStrings.allMedia+" ("+(O+ha+e+ka)+")").appendTo(b),a("\x3coption/\x3e").attr("value","images").text(p.staticStrings.images+" ("+(O+ha+e)+")").appendTo(b),a("\x3coption/\x3e").attr("value","videos").text(p.staticStrings.videos+" ("+ka+")").appendTo(b),b.parent().show(),b.val("all"));b=g.find("#ivThumbs");b.find(".ivRow").not(".placeholder").remove();c=O+ha+ka+e;for(var k=f=0;f<c;)for(var q=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b),
m=0;3>m&&f<c;m++,f++,k++)if(k<O){var n=ca[f].thumb,G=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(q);G.find(".ivThumbImage").css("background",'url("'+C.getResizedThumbnailURL(n)+'") center no-repeat')}else if(k>=O&&k<ha+O)n=aa[f-O].thumb,G=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-O)).appendTo(q),G.find(".ivThumbImage").css("background",'url("'+C.getResizedThumbnailURL(n)+
'") center no-repeat');else if(k>=O+ha&&k<ha+O+e)G=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(q),G.find(".ivThumbImage").css("background",'url("'+(d.isDefined(p.staticImages.icon360)?C.getResizedThumbnailURL(p.staticImages.icon360,!0):"")+'") center no-repeat');else if(n=ba[f-ha-O-e],G=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-ha-O-e)).appendTo(q),G.find(".ivThumbImage").css("background",
'url("'+n.thumbUrl+'") center no-repeat'),d.isDefined(n)){var r={position:"triggerTop"},I=g.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");I.find(".ivVideoPopoverTitle").text(n.title);I.find(".ivVideoPopoverDuration").text(n.durationTimestamp);r.inlineContent=I[0];h.declarative.create(G,"a-tooltip",r)}b=g.find("#ivVideoList");b.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=b.find(".placeholder");for(f=0;f<ka;f++)k=ba[f],q=c.clone().removeClass("placeholder").appendTo(b),
q.attr("id","ivVideoList_"+f),q.find(".ivThumbImage").css("background",'url("'+k.thumbUrl+'") center no-repeat'),q.find(".ivThumbTitle").text(k.title),q.find(".ivThumbDuration").text(k.durationTimestamp);g.find("#ivLarge360").empty();z=0;bb=Za=Ya=!1;Eb()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}function Y(b){var a=p.colorToAsin[b],e=
{},c=500;if(a&&a.asin){e.params={asin:a.asin};var f="360"+a.asin,k=Date.now();e.success=function(a){x("dppc_asyncRequestTime360",Date.now()-k);a&&d.isDefined(a.spin360.spin360Model)?(d.ajaxState(f,"success"),p.spin360ColorData[b]=a.spin360.spin360Model,b===Q.getCurrentItem().color&&(ea=p.spin360ColorData[b],M())):e.error()};e.error=function(){l.postCountMetric("dppc_asyncFailed360");x("dppc_asyncRequestTime360",Date.now()-k);c*=2;16E3>=c?setTimeout(function(){k=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",
e)},c):d.ajaxState(f,"fail")};d.ajaxState(f)&&"fail"!==d.ajaxState(f)||(r.load("/gp/product/features/apparel-main-image/360.html",e),d.ajaxState(f,"sent"))}}function U(){return d.isDefined(p.spin360ConfigEnabled)&&p.spin360ConfigEnabled}var oa,p,Q,ma,H,g,ca,aa,ba,O,ha,ka,e,b,q,ea,Ia,ta,va,wa,xa,Wa,Xa,db=!1,Ya=!1,Za=!1,Ja=0,Ha=0,ya=0,$a=0,Ka=!1,La=!1,z=0,ab,eb=navigator.userAgent.match(/msie|trident/i),bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;K.when("a-modal").execute(function(a){cb=a});var Eb=h.once(function(){J();
m();X();h.on("a:popover:afterUpdatePosition:immersiveView",R);h.on("a:popover:afterShow:immersiveView",L);h.on("a:popover:afterHide:immersiveView",v);V()});return function(b,e,c,f){oa=this;p=b;Q=e;Z.refToModel=Q;ma=f;U()&&(p.spin360ColorData[p.landingAsinColor]=p.spin360ColorData[p.defaultColor],p.spin360ColorEnabled[p.landingAsinColor]=p.spin360ColorEnabled[p.defaultColor]);d.isDefined(p.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",C.addStyleCodeToURL(p.staticImages.icon360,
"_FMpng_RI_"));oa.render=function(a,b,e,c,f,k){bb=!0;U()&&p.spin360ColorEnabled[a]&&!d.isDefined(p.spin360ColorData[a])&&(p.spin360ColorData[a]={},Y(a));d.isImmersiveViewEnabled(p,Q.getCurrentItem().color)&&U()&&p.spin360ColorEnabled[a]&&(b===p.maxAlts&&(a=c.find(".item.imageThumbnail"),e=c.find(".item.videoThumbnail"),d.isDefined(e)&&1<e.length?e.last().remove():a.last().remove(),b--),a=c.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
h.declarative.create(a,"button-360-click"),c.append(a),b++,l.postCountMetric("dppc_display360"));return b};oa.update=function(a){};d.isImmersiveViewEnabled(p,Q.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");ma.register("imageClick",fa);ma.register("button360Click",fa)}});"use strict";K.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(h,a,d,r,l,t,u,C,K){function Z(){var b=a("#iv360Tab").height();n.css("height",b);var e=n.find("#ivTitle360").outerHeight(!0),d=n.find("#ivVariationSelection360").outerHeight(!0),c=n.find("#ivThumbs360"),f=u.getDimension(c,"margin-top")+u.getDimension(c,"margin-bottom");c.css("height",b-e-d-f);b=n.find("#ivStage360");e=n[0]&&n[0].getBoundingClientRect&&Math.floor(n[0].getBoundingClientRect().width)||n.width();b.css("width",e-u.getDimension(n,"padding-left")-u.getDimension(n,"padding-right")-
n.find("#ivThumbColumn360").width()-u.getDimension(b,"margin-left")-u.getDimension(b,"margin-right"))}function R(){T();var a=n.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});u.animateStageIn(a)},200);J()}function J(){if(0<aa){var a=n.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function P(b,e){if(aa<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*v+"px",height:ia+"px"});d.hide();e.append(d);d.get(0).onload=function(){e.closest(document.documentElement).length&&
(aa++,1===aa&&(J(),0<ma&&(l.time("dppc_loadTime360",Date.now()-ma,f.mediaAsin),t.postTimeMetric("dppc_loadTime360",Date.now()-ma))),0<H&&(l.time("dppc_perSpriteloadTime360",Date.now()-H,f.mediaAsin),t.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-H)),n.find("#iv360Spinner").hide(),d.show(),p=5*m.imageLocations[Math.floor(Q/m.imageLocations[0].length)][Q%m.imageLocations[0].length],P(b,e))};d.attr("src",b[aa].replace(/(\._SP)\d+(,)\d+/,"$1"+X+"$2"+W));H=Date.now()}}function E(a){if(d.isDefined(m.spriteWidthSizes)&&
0<m.spriteWidthSizes.length){var b=m.spriteWidthSizes,e=b.length,c=b[0],f=b[e-1];if(a<=c)return c;if(a>f)return f;for(c=0;c<e;c++)if(a>b[c]&&a<=b[c+1])return b[c+1]}else return a}function T(){var b=n.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",f.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),U=!0,V())}function V(){if(d.isDefined(m.spriteURLs)&&d.isDefined(n)&&U&&!oa){var b=n.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(m.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",m.staticImages.hint360).appendTo(e);a("\x3cdiv\x3e").css({"text-align":"center"}).text(f.staticStrings.dragToSpin).appendTo(e);e.appendTo(b);e=m.imageWidth;var k=m.imageHeight,h=b.parent().width(),g=b.parent().height(),l=0,p=0;e/k>h/g?(X=E(h),W=Math.round(k/e*X),v=Math.ceil(h),ia=Math.ceil(W/X*h),p=(g-ia)/2):(W=E(g),X=Math.round(e/k*W),ia=Math.ceil(g),v=Math.ceil(X/W*g),l=(h-v)/2);b.css({"margin-left":l,"margin-top":p,width:v+"px",height:ia+"px",
overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*v+"px");P(m.spriteURLs,n.find("#image-360-sprites"),0);e=n.find("#ivLarge360");e.bind("mousedown",N);e.bind("touchstart",S);e.bind("touchmove",L);e.bind("touchend",F);a(document).bind("mousemove",c);a(document).bind("mouseup",x);d.isDefined(f.staticImages.grab)&&b.css("cursor","url('"+f.staticImages.grab+"'), auto");oa=!0}}function S(a){ca=!0;Y=a.originalEvent.targetTouches[0].clientX}function L(a){ca&&(w(a.originalEvent.targetTouches[0].clientX-
Y),Y=a.originalEvent.targetTouches[0].clientX)}function F(a){ca&&(ca=!1)}function N(a){g=!0;fa=a.originalEvent.clientX;d.isDefined(f.staticImages.grabbing)&&(a=n.find("#ivLarge360"),a.css("cursor","url('"+f.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+f.staticImages.grabbing+"'), auto"));return!1}function c(a){g&&(w(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function x(a){g&&(g=!1,d.isDefined(f.staticImages.grab)&&(a=n.find("#ivLarge360"),
a.css("cursor","url('"+f.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function w(a){p-=a/v*180;O&&(l.count("dppc_360dragToSpin",f.mediaAsin),t.postCountMetric("dppc_360dragToSpin"));O=!1;for(a=p;0>a;)a+=360;for(;360<a;)a-=360;p=a;a=360;for(var b=0;b<aa;b++)for(var e=0;e<m.imageLocations[b].length;e++){var c=Math.abs(p-5*m.imageLocations[b][e]);if(c<a){a=c;var k=b*m.imageLocations[0].length+e}}k!==Q&&(a=Math.floor(k/m.imageLocations[0].length),a!==Math.floor(Q/
m.imageLocations[0].length)&&(d.isDefined(ba)||(ba=document.createElement("canvas").getContext("2d")),b=n.find("#image-360-sprites").children(),ba.drawImage(b[a],0,0)),a=n.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Q=k;a=k%m.imageLocations[0].length*-1*v;k=-1*Math.floor(k/m.imageLocations[0].length)*ia;b=n.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+k+"px, 0)");b.css("transform",
"translate3d("+a+"px, "+k+"px, 0)")}function B(){if(ka){n=a("#ivMain360");var b=I.getCurrentItem().color;y()&&M(b);m=y()?f.spin360ColorData[b]:ja;u.populateTitle(n.find("#ivTitle360"),160,f);u.populateVariationSelection(n.find("#ivVariationSelection360"));n.find("#ivLarge360").empty();aa=0;oa=U=!1;Q=p=0;e();ka=!1}0!==a("#iv360Tab").height()&&(u.detachImmersiveViewResizeHandler(B),Z(),R(),ma=Date.now(),ha=O=!0,l.count("dppc_click360",f.mediaAsin),t.postCountMetric("dppc_click360"))}function D(a,e,
c){a=f.colorToAsin[c];var b={},k=500;if(!a||!a.asin)if(c===f.defaultColor)a={asin:f.winningAsin};else return;b.params={asin:a.asin};var h="360"+a.asin,g=Date.now();b.success=function(a){l.time("dppc_asyncRequestTime360",Date.now()-g,f.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",Date.now()-g);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&C.setData(a),d.ajaxState(h,"success")):b.error()};b.error=function(){l.count("dppc_asyncFailedTransient360",f.mediaAsin);t.postCountMetric("dppc_asyncFailedTransient360");
l.time("dppc_asyncRequestTime360",Date.now()-g,f.mediaAsin);t.postTimeMetric("dppc_asyncRequestTime360",Date.now()-g);k*=2;16E3>=k?setTimeout(function(){g=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",b)},k):(l.count("dppc_asyncFailed360",f.mediaAsin),t.postCountMetric("dppc_asyncFailed360"),d.ajaxState(h,"fail"))};d.ajaxState(h)&&"fail"!==d.ajaxState(h)||(r.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(h,"sent"))}function y(){return f&&d.isDefined(f.spin360ConfigEnabled)&&
f.spin360ConfigEnabled}function M(a){return d.isDefinedAndNotEmpty(f.spin360ColorData[a])?!0:d.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled}function A(){ha&&(l.time("dppc_duration360",Date.now()-ma,f.mediaAsin),t.postTimeMetric("dppc_duration360",Date.now()-ma),ha=!1)}function k(a){a=f.colorToAsin[a.color]&&f.colorToAsin[a.color].asin;a||(a=f.mediaAsin);return a}var G,f,I,da,n,m,v,ia,W,X,fa,Y,U=!1,oa=!1,p=0,Q=0,ma=0,H=0,g=!1,ca=!1,aa=0,ba,O=!0,ha=!1,ka=!0,e=h.once(function(){u.attachImmersiveViewResizeHandler(B);
u.attachImmersiveViewResizeHandler(Z);u.attachImmersiveViewResetHandler(A);u.attachTabDeselectHandler("iv360Tab",A)});return function(b,e,c,g){G=this;f=b;I=e;da=g;b=f.landingAsinColor;e=f.defaultColor;d.isDefined(f.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(f.staticImages.icon360,"_FMpng_RI_"));y()&&(f.spin360ColorData||(f.spin360ColorData={}),b===e&&d.isDefinedAndEmpty(f.spin360ColorData[e])&&delete f.spin360ColorData[e]);
h.on(K.TWISTER_DATA_EVENT,function(a){k(I.getCurrentItem())===a&&(m=C.getData(a),V(),a={type:"updatedData",data:I.getCurrentItem()},da.dispatch("updateView",a))});G.render=function(b,e,c,g,n,m){ka=!0;!y()||d.isDefinedAndEmpty(f.spin360ColorData[b])&&!C.getData(k(I.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):(f.spin360ColorData[b]=C.getData(k(I.getCurrentItem())),d.isDefinedAndNotEmpty(f.spin360ColorData[b])?(a("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(f,
I.getCurrentItem().color)&&y()&&M(b)&&(e===f.maxAlts&&(b=g.find(".item.imageThumbnail"),c=g.find(".item.videoThumbnail"),d.isDefined(c)&&1<c.length?c.last().remove():b.last().remove(),e--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(b,"button-360-click"),g.append(b),l.count("dppc_display360",f.mediaAsin),t.postCountMetric("dppc_display360"))):d.isDefined(f.spin360LazyLoadEnabled)&&f.spin360LazyLoadEnabled?
(f.spin360ColorData[b]={},u.hideTabHeading("iv360TabHeading"),D(g,e,b)):u.hideTabHeading("iv360TabHeading"))};G.update=function(a){};u.attachTabSelectHandler("iv360Tab",B)}});K.register("nexusLogger360",function(){return{count:function(h,a){t.ue&&t.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(h,a,d){t.ue&&t.ue.event({asin:d,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});K.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
K.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var d={};return{setData:function(r){var l=r.asin;d[l]||(d[l]=r,h.trigger(a.TWISTER_DATA_EVENT,l))},getData:function(a){return d[a]}}});"use strict";K.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(h){function a(){this.render=function(){};this.update=function(){}}return function(d,r,l,t){var u=!1,C=new a;K.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==
ja&&(u=!0,C=new a(d,r,l,t))});d&&!0===d.showroomEnabled&&!1===u&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return C}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(h,a,d,r,l,K,u){function C(){D.delegate(".ivThumb","click",function(){var c=a(this);D.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&
(y.type="chromeful-video",y.index=c.attr("id").split("_")[1])})}function V(){if(Y){var c=a("#ivVideosTab").height();D.css("height",c);var d=D.find(".vse-lb-container");M=c-l.getDimension(d,"padding-top")-l.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(ia){D.css({"max-width":Math.floor(1.77*M)});return}c=D.find(".vse-player-container");d=D.find(".vse-video-action-strip");var f=D.find(".vse-lb-video-metadata"),k=Math.floor(M-l.getDimension(f,"height")-l.getDimension(d,
"height")),g=Math.floor(1.77*k);c.css({"max-height":k,"max-width":g,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":g,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":g,marginLeft:"auto",marginRight:"auto"})}W&&(c=D.find(".vse-vertical-scroll"),d=l.getDimension(c,"margin-top")+l.getDimension(c,"margin-bottom"),c.css("max-height",M-d))}function Z(){R();A&&A.pause();X=!1;m=!0;I=null;fa=!0;Y=!1}function R(){X=!1;A&&A.pause()}function J(c){I=c.clickTimeStamp?c.clickTimeStamp:h.now();
d.isDefined(B)&&(B.eventTimestamp=I);X=!0;v&&(u.get(h,"#ivVideoBlock",w,g,ca),D=a("#ivVideoBlock"),x.getCurrentItem(),y=x.getCurrentItem(),Q(),L());V();v=!1;T()}function P(c){v&&(D=a("#ivVideoBlock"),x.getCurrentItem(),y=x.getCurrentItem(),Q());X&&T();V()}function E(a){A=a.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",h.now()-p);c.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-c.imageBlockRenderingStartTime);Y&&(L(),T())}
function T(){if(A&&X&&(D.find(".vse-lb-container").animate({opacity:1},200),A.play(B),r.postCountMetric("dpcc_vse_videoBlock_video_played"),m)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,r.postTimeMetric("dpcc_vse_vitff",a),m=!1)}}function ja(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function S(a){k=a.popover.$popover;Y=!0;L()}function L(){if(Y&&fa&&X&&A){k.addClass(h.$(k).find(".vse-lb-container").data("cssClass"));var a=B;U&&(a=oa,U=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",
{lightBoxId:"ivVideoBlock",assetSpec:a});V();fa=!1}}function F(a){document.getElementsByClassName("videoBlockIngress")[0].click();oa=a;U=!0}var N,c,x,w,B,D,y,M,A,k,G,f,I,da,n,m=!0,v=!0,ia=!1,W=!1,X=!1,fa=!0,Y=!1,U=!1,oa,p=0,Q=h.once(function(){C();l.attachImmersiveViewResizeHandler(P);l.attachTabDeselectHandler("ivVideosTab",R);l.attachImmersiveViewResetHandler(Z)}),ma=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);
ia=!0;a("#ivVideoBlock").css({"max-width":1.77*M,margin:"0 auto"})},H=function(c,d,f){v||u.get(c,"#ivVideoBlock",w,g,ca);a("#ivVideoBlockSpinner").addClass("aok-hidden")},g=function(a,c,d){W=!0;V()},ca=function(a,c,d){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,k,g,m){N=this;c=a;x=k;N.render=function(a,e,b,k,g,m){a=x.getCurrentItem().color;e=d.getVideoHash(a,0,c);!0===m?G=c.mediaAsin:(G=c.colorToAsin[a]&&c.colorToAsin[a].asin,
G=d.isDefined(G)?G:c.mediaAsin);f=!0===c.useVSEVideos?"VIDEO_ID":"physicalID";da=c.contentWeblab;n=c.contentWeblabTreatment;v=!0;-1===e?l.hideTabHeading("ivVideosTabHeading"):(l.unhideTabHeading("ivVideosTabHeading"),w={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:e.marketPlaceID,locale:e.languageCode,product:{contentID:G,contentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:f,videoURL:e.url,imageURL:e.slateUrl,rankingStrategy:e.rankingStrategy},requestId:c.dpRequestId,
weblabContext:[{name:da,assignment:n,ignoreForG2S2Key:!0}],metadata:{ProductTitle:c.title}},B={videoUrl:w.video.videoURL,contentId:w.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(I)?I:h.now(),imageUrl:w.video.imageURL,productAsin:w.product.contentID,rankingStrategy:w.video.rankingStrategy,index:0},d.isDefinedAndNotEmpty(A)&&(A.destroy(),A=null),p=h.now(),K.get(h,"#ivVideoBlock",w,H,ma))};N.update=function(a){};l.attachTabSelectHandler("ivVideosTab",J);h.on("vsePlayer-detailpage-imageblock",
E);h.on("a:popover:afterShow:immersiveView",S);h.on("a:popover:beforeHide:immersiveView",ja);h.on("detailpage-imageblock-leave-pip",F)}});"use strict";K.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(h,a,d,r,l){function t(d,h){if(d){B=c.getCurrentItem();0==Object.entries(A).length&&u();var f=B.shoppableScene;f==ja?(d=L(Object.values(A)[0]),f=Object.values(A)[0].shoppableScene):d=L(w[B.index]);M=f.physicalId;
var k=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<k.length){var l=a("\x3cimg\x3e");l.attr("id","shoppableSceneIvImage");l.attr("src",d);l.css({"max-height":"500px","max-width":"650px"});k.replaceWith(l);d=C(f);f=a(".shoppable-scene-image-block-tags-in-iv");f.empty();d.appendTo(f)}else x.hide(),E();la();d=B.shoppableScene?B.shoppableScene:Object.values(A)[0].shoppableScene;R(d);T(h,D,null,M)}}function u(){w=N.colorImages[B.color];D=N.colorToAsin[B.color].asin;w.forEach(function(a){a.shoppableScene!=
ja&&(A[a.shoppableScene.physicalId]=a)})}function C(c){var d=a("\x3cspan\x3e");h.each(c.tags,function(f){var k=a("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});k.append(V(!1));k.append(V(!0));h.declarative.create(k,"scenes-show-details-tags-ib-iv-click",{tagId:f.link,physicalId:c.physicalId});d.append(k)});return d.children()}function V(c){var d=a("\x3cimg src\x3d'"+(c?N.staticImages.shoppableSceneDotHighlighted:N.staticImages.shoppableSceneDot)+
"' alt\x3d''\x3e");d.css({display:c?"none":"inline-block"});d.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return d}function la(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(A).forEach(function(d){var f=A[d],k=a("\x3cimg\x3e");f=L(f);k.attr("id","shoppable-scene-thumbnail-"+d);k.attr("src",f);k.addClass("shoppable-scene-thumbnail");h.declarative.create(k,"scenes-thumbnail-ib-iv-click",{physicalId:d});k.appendTo(c)})}function R(a){S();K.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",
function(){h.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function J(a,c){S();K.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:c})})}function P(){var c=A[M].shoppableScene,d=a(".shoppable-scene-image-block-tags-in-iv");d.hide();c=C(c);d.empty();c.appendTo(d);d.show();x.show()}function E(){var c=L(A[M]),d=a("#shoppableSceneIvImage");
d.bind("load",P);d.attr("src",c)}function T(a,c,d,l){var f="shoppable-scene-dp-iv:mirai:"+a;K.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:f,asin:c,tagId:d,physicalId:l})})}function qa(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},
3600)}function S(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var d=a("\x3cimg\x3e");d.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");d.attr("src",N.staticImages.spinner);d.css({position:"relative"}).appendTo(c)}function L(a){return a.hiRes||a.large||a.main[a.main.length-1]}var F=void 0,N=void 0,c=void 0,x=void 0,w=void 0,B=void 0,D=void 0,y=void 0,M=
void 0,A={};h.declarative("shoppable-scene-image-click","click",function(a){t(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=y){var d=y.find(".active-tag"),h=y.find(".inactive-tag");d.css({display:"none"});h.css({display:"inline-block"})}d=c.find(".active-tag");h=c.find(".inactive-tag");d.css({display:"inline-block"});d.addClass("mirai-scene-dot-pulsate");h.css({display:"none"});y=c;qa();J(a.data.tagId,a.data.physicalId);
T("IMMERSIVE_VIEW_PRODUCT_TAG",D,a.data.tagId,a.data.physicalId)});h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){M=a.data.physicalId;E();R(A[M].shoppableScene)});return function(d,h,f,l){F=this;N=d;c=h;x=a("#ivMainShoppableScene");F.render=function(a,c,d,f,h,k){};F.update=function(a){};(d=document.getElementById("ivShoppableSceneHeading"))&&d.addEventListener("click",function(a){a=c.getCurrentItem();t(null==B||B.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(c){var g=window.AmazonUIPageJS||window.P,l=g._namespace||g.attributeErrors,a=l?l("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):g;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,g,l){c.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,b){try{var d=a.$,h=d("#featurebullets_feature_div"),m=d("#productOverview_feature_div");if(h&&0<h.length&&(b.postCountMetric("FeatureBulletsRendered.GV"),m&&
0<m.length)){b.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=d("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(b.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(e){b.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(e){b.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(e){c.log("Feature bullets metric logging failed with error: ( "+
e+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";c.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,b,d,h,m){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var e=d.colorImages,a=0,b;for(b in e)e[b]&&e[b].length&&(a+=e[b].length);e="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(a<=f[b]){e="image_size_bucket:"+f[b-1]+"-"+f[b];break}m.postCountMetric(e);h.addTag(e)})();(function(){var a=b.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,g.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;h.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),h.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";c.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});c.register("postEarlyMetric",function(){return null});"use strict";c.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var b=g.ue;if(b){var d=b.count(a)||0;b.count(a,d+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var d=g.ue;d&&d.count(a,b)}},emitNexusMetric:function(a){g.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.6",{ssd:!1})},buildNexusMetric:function(a,b,d,h,m,f,e,c,n,p){e="";c=c||"";try{e=g.location.href;var k=e.match(/\/dp\/([A-Z0-9]{10})|\/gp\/product\/([A-Z0-9]{10})|\/gp\/aw\/d\/([A-Z0-9]{10})/);k&&(k[1]||k[2]||k[3])&&(c=k[1]||k[2]||
k[3])}catch(q){(k=g.ue)&&k.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",placementContext:p,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+b,videoAsin:d,videoAsinList:"",rankingStrategy:h===l?"":h,groupType:f===l?"":f,pageUrl:e,pageAsin:c,weblabIds:n===l?"":n,customerId:m||""}}}});"use strict";c.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var c=a.state("desktop-landing-image-data");
c&&(c=a.values(c),b=b.getResourceTimeByName("img",c),a.each(b,function(a){a&&(a.responseEnd!=l&&d.postCountMetric("ibDesktopLandingImageDownloadTime",g.parseInt(a.responseEnd)),a.transferSize!=l&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",g.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=
3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=
c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},
q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||
500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-
1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
